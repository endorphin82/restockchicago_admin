(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{195:function(e,t,a){e.exports=a(383)},200:function(e,t,a){},381:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),c=a.n(i),l=a(24),o=(a(200),a(387)),m=a(191),u=a(32),d=a(390),s=a(47),g=a(385),p=a(55),b=a(39);function E(){var e=Object(p.a)(["\n    {\n        categoriesAll{\n            id,\n            name,\n            icons\n        }\n    }\n"]);return E=function(){return e},e}var f=Object(b.b)(E()),h={width:"20px",height:"100%",marginRight:"10px"},y=function(){var e=Object(s.b)(f),t=e.loading,a=(e.error,e.data);if(t)return r.a.createElement("p",null,"Loading ... ");var n=a.categoriesAll;console.log(n);var i=[{title:"Name",dataIndex:"name",key:"name"},{title:"ID",dataIndex:"id",key:"id"},{title:"Icons",dataIndex:"icons",key:"icons",render:function(e){return 0!==e.length?r.a.createElement("div",null,e.map((function(e){return r.a.createElement("img",{key:e,alt:"img",src:e,style:h})}))):r.a.createElement("span",null,"no icons")}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{dataSource:n,columns:i,rowKey:"id"}))},v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Categories"),r.a.createElement(y,null),r.a.createElement(m.a,{title:"Add Category"},r.a.createElement(u.a,{type:"dashed",shape:"circle",style:{position:"fixed",bottom:"50px",right:"50px",color:"#08c"}},r.a.createElement(d.a,{style:{fontSize:"22px",color:"#08c"}}))))},O=a(26),j=a(84),I=a(388);function S(){var e=Object(p.a)(["\n    {\n        productsAll{\n            id,\n            name,\n            price,\n            images,\n            category{\n                id,\n                name,\n                icons\n            }\n        }\n    }\n"]);return S=function(){return e},e}var k=Object(b.b)(S());function C(){var e=Object(p.a)(["\n    mutation DeleteProduct($id: ID) {\n        deleteProduct(id: $id){\n            id\n        }\n    }\n"]);return C=function(){return e},e}function x(){var e=Object(p.a)(["\n    mutation UpdateProduct($id: ID, $name: String!, $price: Int!, $categoryId: ID!, $images: [String] ) {\n        updateProduct(id: $id, name: $name, price: $price, categoryId: $categoryId, images: $images ){\n            name\n        }\n    }\n"]);return x=function(){return e},e}function P(){var e=Object(p.a)(["\n    mutation AddProduct($name: String!, $price: Int!, $categoryId: ID!, $images: [String] ) {\n        addProduct(name: $name, price: $price, categoryId: $categoryId, images: $images ){\n            name\n        }\n    }\n"]);return P=function(){return e},e}var w=Object(b.b)(P()),A=Object(b.b)(x()),$=Object(b.b)(C()),_={width:"50px",height:"100%",marginRight:"10px"},D={width:"20px",height:"100%",marginRight:"10px"},R=function(e){var t=e.prodSet,a=e.visibleSet,i=Object(s.b)(k),c=i.loading,l=(i.error,i.data),o=Object(n.useState)(!1),m=Object(O.a)(o,2),d=m[0],p=m[1],b=Object(n.useState)({}),E=Object(O.a)(b,2),f=E[0],h=E[1],y=Object(s.a)($),v=Object(O.a)(y,2),S=v[0];if(Object(j.a)(v[1]),c)return r.a.createElement("p",null,"Loading ... ");var C=l.productsAll,x=function(e){var n=C.find((function(t){return t.id===e}));t(n),a(!0),console.log("table",n)},P=function(e){p(!0);var t=C.find((function(t){return t.id===e}));h(t),console.log("table",t)},w=[{title:"Name",dataIndex:"name",key:"name"},{title:"ID",dataIndex:"id",key:"id"},{title:"Price",dataIndex:"price",key:"price"},{title:"Category",dataIndex:"category",key:"category",render:function(e){var t=e.name,a=e.icons,n=e.id;return r.a.createElement("div",null,r.a.createElement("span",null,t," "),0!==a.length?r.a.createElement("img",{key:a[0],alt:"img",src:a[0],style:D}):"",r.a.createElement("span",null," ",n))}},{title:"Images",dataIndex:"images",key:"images",render:function(e){return 0!==e.length?r.a.createElement("div",null,e.map((function(e){return r.a.createElement("img",{key:e,alt:"img",src:e,style:_})}))):r.a.createElement("span",null,"no icons")}},{title:"Actions",dataIndex:"id",key:"id",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{onClick:x.bind(null,e),type:"dashed"},"Edit"),r.a.createElement(u.a,{onClick:P.bind(null,e),type:"dashed",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{dataSource:C,columns:w,rowKey:"id"}),r.a.createElement(I.a,{title:"Delete product?",visible:d,onOk:function(e){S({variables:{id:e}}),p(!1)}.bind(null,f.id),onCancel:function(){p(!1)}},r.a.createElement("p",null,f.name)))},T=a(19),N=a(180),q=a(386),L=a(389),B=a(85),F=a(129),K=a.n(F),U=a(187),W=a.n(U),z={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},H={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},J=function(e){var t,a=e.prod,i=e.visible,c=e.visibleSet,l=Object(s.a)(w),o=Object(O.a)(l,2),m=o[0];Object(j.a)(o[1]);var d=Object(s.a)(A),g=Object(O.a)(d,2),p=g[0];Object(j.a)(g[1]);var b=Object(s.b)(f),E=(b.loading,b.error,b.data),h=Object(n.useState)({name:"",price:0,category:""}),y=Object(O.a)(h,2),v=y[0],S=y[1];Object(n.useEffect)((function(){S(a)}),[a]),console.log("values",v);var k=function(e){var t=e.target,a=t.name,n=t.value;S(Object(N.a)({},v,Object(T.a)({},a,n)))},C=E.categoriesAll,x=void 0===C?[]:C;return r.a.createElement(I.a,{title:"Product information",visible:i,footer:!1,onCancel:function(e){e.preventDefault(),console.log(e),c(!1)}},r.a.createElement(q.a,Object.assign({initialValues:(t={},Object(T.a)(t,"price",v.price),Object(T.a)(t,"name",v.name),Object(T.a)(t,"images",v.images),Object(T.a)(t,"icon",v.icon),t),name:"product"},H,{onFinish:function(e){console.log("Received values of form:",e);var t=e.id,a=e.name,n=e.categoryId,r=e.images,i=e.icon,l=Number(e.price);t?p({variables:{id:t,name:a,price:l,categoryId:n,images:r,icon:i}}):m({variables:{name:a,price:l,categoryId:n,images:r,icon:i}}),c(!1)}}),r.a.createElement(q.a.Item,{label:"Name product",name:"name",rules:[{required:!0,message:"Name product is required"}]},r.a.createElement(L.a,{onChange:k,placeholder:"name product",style:{width:"100%",marginRight:8}})),r.a.createElement(q.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Price is required"}]},r.a.createElement(L.a,{type:"number",placeholder:"Price $",style:{width:"100%",marginRight:8}})),r.a.createElement(q.a.Item,{label:"Category",name:"categoryId",onChange:k,rules:[{required:!0,message:"Category is required"}]},r.a.createElement(B.a,{placeholder:"Select category"},x.map((function(e){return r.a.createElement(B.a.Option,{key:e.id},e.name)})))),r.a.createElement(q.a.List,{name:"images"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(q.a.Item,Object.assign({},0===a?z:H,{label:0===a?"Images":"",required:!1,key:t.key}),r.a.createElement(q.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input image url or delete this field."}],noStyle:!0}),r.a.createElement(L.a,{value:v.images[a],onChange:k,placeholder:"image url",style:{width:"90%",marginRight:8}})),e.length>1?r.a.createElement(W.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):null)})),r.a.createElement(q.a.Item,null,r.a.createElement(u.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(K.a,null)," Add image url")))})),r.a.createElement(q.a.Item,{label:"Icon",name:"icon"},r.a.createElement(L.a,{onChange:k,placeholder:"icon url",style:{width:"100%",marginRight:8}})),r.a.createElement(u.a,{type:"primary",htmlType:"submit"},"Submit")))},V=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(!1),l=Object(O.a)(c,2),o=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Products"),r.a.createElement(R,{visibleSet:i,prodSet:s}),r.a.createElement(J,{prod:o,visible:a,visibleSet:i}),r.a.createElement(m.a,{title:"Add Product"},r.a.createElement(u.a,{onClick:function(){i(!0)},type:"dashed",shape:"circle",style:{position:"fixed",bottom:"50px",right:"50px",color:"#08c"}},r.a.createElement(d.a,{style:{fontSize:"22px",color:"#08c"}}))))},G=o.a.TabPane;function M(e){console.log(e)}var Q=function(){return r.a.createElement(o.a,{defaultActiveKey:"1",onChange:M},r.a.createElement(G,{tab:"Categories",key:"1"},r.a.createElement(v,null)),r.a.createElement(o.a.TabPane,{tab:"Products",key:"2"},r.a.createElement(V,null)))};a(380),a(381);var X=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,r.a.createElement("code",null," APP")),r.a.createElement("a",{className:"App-link",href:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_URL,target:"_blank",rel:"noopener noreferrer"},"REACT_APP_BASE_URL")),r.a.createElement(Q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=new b.a({uri:"https://glacial-mesa-30936.herokuapp.com/graphql"});c.a.render(r.a.createElement(l.a,{client:Y},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.2ce577af.chunk.js.map