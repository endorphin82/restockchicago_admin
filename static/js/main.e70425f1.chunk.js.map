{"version":3,"sources":["components/Categories/query.js","components/CategoriesTable/index.js","components/Categories/index.js","components/Products/query.js","components/Products/mutations.js","actions/index.js","actions/types.js","utils.js","components/ProductsTable/index.js","components/ProductEditForm/index.js","components/ProductAddForm/index.js","components/Products/index.js","components/RecycleBinIcon/index.js","store/apollo-client.js","components/RecycleBinProductsTable/index.js","components/RecycleBin/index.js","components/TabsContainer/index.js","App.js","serviceWorker.js","reducer/edit-modal.js","reducer/add-modal.js","reducer/edit-product.js","reducer/index.js","store/index.js","index.js"],"names":["categoriesAllQuery","gql","categoryByIdQuery","styleIconInTable","width","height","marginRight","CategoriesTable","useQuery","loading","data","error","categoriesAll","console","log","columns","title","dataIndex","key","render","icons","length","map","icon","alt","src","style","dataSource","rowKey","Categories","type","shape","position","bottom","right","color","PlusOutlined","fontSize","productsAllQuery","productsByCategoryIdQuery","addProductMutation","updateProductMutation","deleteProductMutation","clearRecycleBinMutation","editProduct","product","payload","setIsOpenEditProductModal","isOpen","setIsOpenAddProductModal","priceStringToIntCent","str","Math","round","parseFloat","replace","priceToDollars","price","Number","toLocaleString","currency","styleImagesInTable","connect","pure","useMutation","update","cache","updateProduct","productsByCategoryId","readQuery","query","variables","categoryId","process","writeQuery","concat","useState","isVisualDeleteModal","setIsVisualDeleteModal","productDeleted","setProductDeleted","productsAllWithoutRecycleBin","productsAll","filter","prod","category","id","name","images","image","onClick","find","handleEdit","float","handleDelete","danger","DeleteOutlined","visible","onOk","then","m","catch","e","handleOk","onCancel","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","state","isOpenEditProductModal","edit_product_modal","edited_product","edit_product","Form","useForm","formEditProduct","values","setValues","useEffect","setFieldsValue","resetFields","handleChange","target","value","footer","forceRender","destroyOnClose","form","onFinish","valuefromformlist","String","Item","label","rules","required","message","onChange","placeholder","Option","firstActiveValue","List","fields","add","remove","field","index","validateTrigger","whitespace","noStyle","className","htmlType","isOpenAddProductModal","add_product_modal","addProduct","data_categories","preventDefault","RecycleBinIcon","categoryById","InMemoryCache","client","ApolloClient","uri","recycle_bin_prod_loading","recycle_bin_prod_data","recycle_bin_prod_error","isVisualRestoreModal","setIsVisualRestoreModal","refetchQueries","deleteProduct","mess","RecycleBin","clearRecycleBin","display","r","TabPane","Tabs","callback","TabsContainer","cat_loading","cat_data","cat_error","prod_loading","prod_data","prod_error","recycle_bin_error","recycle_bin_cat_loading","recycle_bin_cat_data","recycle_bin_cat_error","defaultActiveKey","tab","App","href","rel","Boolean","window","location","hostname","match","initialState","combineReducers","action","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e70425f1.chunk.js","sourcesContent":["import { gql } from \"apollo-boost\";\n\nexport const categoriesAllQuery = gql`\n    {\n        categoriesAll{\n            id,\n            name,\n            icons\n        }\n    }\n`\nexport const categoryByIdQuery = gql`\n    query categoryById($id: ID){\n        categoryById(id: $id){\n            id\n            name\n            icons\n        }\n    }\n`","import React from \"react\"\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { Table } from \"antd\"\nimport { categoriesAllQuery } from \"../Categories/query\"\n\nconst styleIconInTable = { width: \"20px\", height: \"100%\", marginRight: \"10px\" }\n\nconst CategoriesTable = () => {\n  const { loading, error, data } = useQuery(categoriesAllQuery)\n\n  if (loading) return <p>Loading ... </p>\n  const { categoriesAll } = data\n  console.log(categoriesAll)\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Icons\",\n      dataIndex: \"icons\",\n      key: \"icons\",\n      render: icons => {\n        return (icons.length !== 0)\n          ? <div>\n            {\n              icons\n                .map(icon => <img\n                  key={icon} alt=\"img\"\n                  src={icon}\n                  style={styleIconInTable}/>\n                )\n            }\n          </div>\n          : <span>no icons</span>\n      }\n    }\n  ]\n\n  return (\n    <>\n      <Table dataSource={categoriesAll} columns={columns} rowKey=\"id\"/>\n    </>\n  )\n}\n\nexport default CategoriesTable","import React from \"react\"\nimport { Button, Tooltip } from \"antd\"\nimport { PlusOutlined } from \"@ant-design/icons\"\nimport CategoriesTable from \"../CategoriesTable\"\n\nconst Categories = () => {\n  return (\n    <>\n      <h1>Categories</h1>\n      <CategoriesTable/>\n      <Tooltip title=\"Add Category\">\n        <Button type=\"dashed\" shape=\"circle\"\n                style={{ position: \"fixed\", bottom: \"50px\", right: \"50px\", color: \"#08c\" }}\n        ><PlusOutlined\n          style={{ fontSize: \"22px\", color: \"#08c\" }}\n        /></Button>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default Categories","import { gql } from \"apollo-boost\"\n\nexport const productsAllQuery = gql`\n    {\n        productsAll{\n            id,\n            name,\n            price,\n            images,\n            category{\n                id,\n                name,\n                icons\n            }\n        }\n    }\n`\nexport const productsByCategoryIdQuery = gql`\n    query productsByCategoryId($categoryId: ID!){\n        productsByCategoryId(categoryId: $categoryId){\n            id\n            name\n            price\n            category{\n                id\n                name\n            }\n        }\n    }\n`","import { gql } from \"apollo-boost\"\n\nexport const addProductMutation = gql`\n    mutation addProduct($name: String!, $price: Float!, $categoryId: ID!, $images: [String] ) {\n        addProduct(name: $name, price: $price, categoryId: $categoryId, images: $images ){\n            id\n            name\n            price\n            images\n            category{\n                id\n                name\n            }\n        }\n    }\n`\n\nexport const updateProductMutation = gql`\n    mutation updateProduct($id: ID!, $name: String!, $price: Float!, $categoryId: ID!, $images: [String] ) {\n        updateProduct(id: $id, name: $name, price: $price, categoryId: $categoryId, images: $images ){\n            id\n            name\n            price\n            images\n            category{\n                id\n                name\n            }\n        }\n    }\n`\n\nexport const deleteProductMutation = gql`\n    mutation deleteProduct($id: ID!) {\n        deleteProduct(id: $id){\n            id\n            name\n            price\n            images\n            category{\n                id\n                name\n            }\n        }\n    }\n`\nexport const clearRecycleBinMutation = gql`\n    mutation clearRecycleBin {\n        clearRecycleBin{\n            __typename\n        }\n    }\n`\n","import {\n  EDIT_PRODUCT,\n  IS_OPEN_EDIT_MODAL,\n  IS_OPEN_ADD_MODAL,\n} from \"./types\"\n\nexport const editProduct = product => ({\n  type: EDIT_PRODUCT,\n  payload: product\n})\n\nexport const setIsOpenEditProductModal = isOpen => ({\n  type: IS_OPEN_EDIT_MODAL,\n  payload: isOpen\n})\n\nexport const setIsOpenAddProductModal = isOpen => ({\n  type: IS_OPEN_ADD_MODAL,\n  payload: isOpen\n})\n","export const EDIT_PRODUCT = \"EDIT_PRODUCT\"\nexport const IS_OPEN_EDIT_MODAL = \"IS_OPEN_EDIT_MODAL\"\nexport const IS_OPEN_ADD_MODAL = \"IS_OPEN_ADD_MODAL\"\n","export const priceStringToIntCent = str => {\n  return Math.round(100 * parseFloat(str.replace(/[$,]/g, '')));\n}\nexport const priceToDollars =price => {\n  return Number(price / 100)\n    .toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" })\n}","import React, { useState } from \"react\"\nimport { useMutation, useQuery } from \"@apollo/react-hooks\"\nimport { Button, Modal, Table, Tooltip } from \"antd\"\nimport { productsAllQuery, productsByCategoryIdQuery } from \"../Products/query\"\nimport { deleteProductMutation, updateProductMutation } from \"../Products/mutations\"\nimport { connect } from \"react-redux\"\nimport { editProduct, setIsOpenEditProductModal } from \"../../actions\"\nimport { DeleteOutlined } from \"@ant-design/icons\"\nimport { priceToDollars } from \"../../utils\"\n\nconst styleImagesInTable = { width: \"50px\", height: \"100%\", marginRight: \"10px\" }\nconst styleIconInTable = { width: \"20px\", height: \"100%\", marginRight: \"10px\" }\n\nconst ProductsTable = ({ editProduct, setIsOpenEditProductModal }) => {\n  const { loading, error, data } = useQuery(productsAllQuery)\n  const [updateProduct, {}] = useMutation(updateProductMutation,\n    // {\n    //   refetchQueries: [{\n    //     query: productsByCategoryIdQuery,\n    //     variables: {\n    //       categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n    //     }\n    //   }]\n    // }\n    {\n      update(cache, { data: { updateProduct } }) {\n        const { productsByCategoryId } = cache.readQuery({\n          query: productsByCategoryIdQuery, variables: {\n            categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n          }\n        })\n        cache.writeQuery({\n          query: productsByCategoryIdQuery,\n          variables: {\n            categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n          },\n          data: { productsByCategoryId: productsByCategoryId.concat([updateProduct]) }\n        })\n      }\n    }\n  )\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState(false)\n  const [productDeleted, setProductDeleted] = useState({})\n  console.log(\"productDeleted\", productDeleted)\n  if (loading) return <p>Loading ... </p>\n  const { productsAll } = data\n  const productsAllWithoutRecycleBin = productsAll.filter(prod => {\n    const { category } = prod\n    return category.id !== process.env.REACT_APP_RECYCLE_BIN_ID\n  })\n\n  console.log(\"productsAllWithoutRecycleBin\", productsAllWithoutRecycleBin)\n  const handleEdit = (id) => {\n    editProduct(productsAllWithoutRecycleBin.find(prod => prod.id === id))\n    setIsOpenEditProductModal(true)\n  }\n\n  const handleDelete = (id) => {\n    setIsVisualDeleteModal(true)\n    setProductDeleted(productsAllWithoutRecycleBin.find(prod => prod.id === id))\n  }\n\n  const handleOk = () => {\n    console.log(\"productDeleted.id\", productDeleted.id)\n    const { id, name, price, images, icon } = productDeleted\n    updateProduct({\n      variables: {\n        id, name, price, categoryId: process.env.REACT_APP_RECYCLE_BIN_ID, images, icon\n      }\n\n    }).then(m => console.log(\"updateProductMESSAGE:\", m))\n      .catch(e => console.log(\"updateProductERROR:\", e))\n\n    // deleteProduct({\n    //   variables: {\n    //     id: productDeleted.id\n    //   }\n    // }).then(mess => console.log(\"deleteProduct response:\", mess))\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\",\n      render: price => {\n        return priceToDollars(price)\n      }\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n      key: \"category\",\n      render: category => {\n        const { name, icons, id } = category\n        return <div><span>{name} </span>\n          {(icons.length !== 0)\n            ? <img\n              key={icons[0]} alt=\"img\"\n              src={icons[0]}\n              style={styleIconInTable}/> : \"\"}\n          <span> {id}</span>\n        </div>\n      }\n    },\n    {\n      title: \"Images\",\n      dataIndex: \"images\",\n      key: \"images\",\n      render: images => {\n        return (images)\n          ? <div>\n            {\n              images\n                .map(image => <img\n                  key={image} alt=\"img\"\n                  src={image}\n                  style={styleImagesInTable}/>\n                )\n            }\n          </div>\n          : <span>no images</span>\n      }\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"id\",\n      key: \"id\",\n      render: (id) => <>\n        <Tooltip title=\"Edit this product\">\n          <Button onClick={() => handleEdit(id)} type=\"dashed\">\n            Edit\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Move to recycle bin\">\n          <Button style={{ float: \"right\" }} onClick={() => handleDelete(id)} type=\"dashed\" danger\n                  icon={<DeleteOutlined/>}>\n            &nbsp;\n          </Button>\n        </Tooltip>\n      </>\n    }\n  ]\n\n  return (\n    <>\n      <Table dataSource={productsAllWithoutRecycleBin} columns={columns} rowKey=\"id\"/>\n      <Modal\n        title=\"Delete product in recycle bin?\"\n        visible={isVisualDeleteModal}\n        onOk={() => handleOk(productDeleted.id)}\n        onCancel={handleCancel}\n      >\n        <p>{productDeleted.name}</p>\n      </Modal>\n    </>\n  )\n}\n\nexport default connect(null, { setIsOpenEditProductModal, editProduct }, null, { pure: false }\n)(ProductsTable)","import React, { useEffect, useState } from \"react\"\nimport { Button, Form, Input, Modal, Select, Skeleton } from \"antd\"\nimport { useMutation, useQuery } from \"@apollo/react-hooks\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport { updateProductMutation } from \"../Products/mutations\"\nimport { categoriesAllQuery } from \"../Categories/query\"\nimport { connect } from \"react-redux\"\nimport { editProduct, setIsOpenEditProductModal } from \"../../actions\"\nimport { priceStringToIntCent } from \"../../utils\"\n\nconst ProductEditForm = ({ edited_product, editProduct, isOpenEditProductModal, setIsOpenEditProductModal }) => {\n  const [formEditProduct] = Form.useForm()\n  const [updateProduct, {}] = useMutation(updateProductMutation)\n  const { loading, error, data } = useQuery(categoriesAllQuery)\n  const [values, setValues] = useState({})\n  useEffect(() => {\n    setValues(edited_product)\n    console.log(\"edited_product\", edited_product)\n  }, [edited_product])\n  useEffect(() => {\n    formEditProduct.setFieldsValue({\n      \"name\": edited_product.name,\n      \"price\": edited_product.price,\n      \"images\": edited_product.images,\n      \"icon\": edited_product.icon\n    })\n    return () => {\n      formEditProduct.resetFields()\n    }\n  }, [edited_product])\n  console.log(\"values+++\", values)\n\n  const onFinish = (valuefromformlist) => {\n    console.log(\"Received values of form:\", values)\n\n    const { name, categoryId, images, icon } = valuefromformlist\n    const id = String(values.id)\n    const price = priceStringToIntCent(valuefromformlist.price)\n    console.log(\"onFinish\", valuefromformlist)\n    updateProduct({\n      variables: {\n        id, name, price, categoryId, images, icon\n      }\n    }).then(m => console.log(\"updateProductMESSAGE:\", m))\n      .catch(e => console.log(\"updateProductERROR:\", e))\n    setIsOpenEditProductModal(false)\n  }\n  const handleCancel = e => {\n    console.log(e)\n    setIsOpenEditProductModal(false)\n    editProduct({})\n  }\n  const handleChange = e => {\n    const { name, value } = e.target\n    setValues({ ...values, [name]: value })\n  }\n  if (!data.categoriesAll) return <Skeleton/>\n  const { categoriesAll } = data\n  if (!edited_product) return <Skeleton/>\n  const { category } = edited_product\n  console.log(\"cat\", category)\n  console.log(\"OpenEditProductModal\", isOpenEditProductModal)\n\n  return (\n    <Modal\n      title={`Product information id: ${values.id}`}\n      visible={isOpenEditProductModal}\n      footer={false}\n      onCancel={handleCancel}\n      forceRender={true}\n      destroyOnClose={false}\n\n    >\n\n      <Form\n        form={formEditProduct}\n        name=\"product\" {...formItemLayoutWithOutLabel} onFinish={onFinish}>\n        <Form.Item\n          label=\"Name product\"\n          name=\"name\"\n          // noStyle\n          value={values.name}\n          rules={[{ required: true, message: \"Name product is required\" }]}\n        >\n          <Input\n            // name=\"name\"\n            // value={values.name}\n            onChange={handleChange} placeholder=\"name product\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Price\"\n          name=\"price\"\n          // noStyle\n          rules={[{ required: true, message: \"Price is required\" }]}\n        >\n          <Input type=\"number\" placeholder=\"Price $\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Category\"\n          name=\"categoryId\"\n          // noStyle\n          // defaultValue=\"5e820a91e3cd504a9fef2b0f\"\n          onChange={handleChange}\n          rules={[{ required: true, message: \"Category is required\" }]}\n        >\n          <Select\n            // defaultValue={category.name}\n            placeholder=\"Select category\">\n            {categoriesAll.map(category =>\n              <Select.Option\n                key={category.id}\n                firstActiveValue=\"nike\"\n\n              >{category.name}</Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input value={values.images[index]} placeholder=\"image url\"\n                             style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : null}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Form.Item\n          label=\"Icon\"\n          name=\"icon\"\n          // noStyle\n        >\n          <Input onChange={handleChange} placeholder=\"icon url\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\nexport default connect(state => ({\n    isOpenEditProductModal: state.edit_product_modal.isOpen,\n    edited_product: state.edit_product.product\n  }), { setIsOpenEditProductModal, editProduct }\n)(ProductEditForm)","import React, { useEffect, useRef, useState } from \"react\"\nimport { Button, Form, Input, Modal, Select } from \"antd\"\nimport { useMutation, useQuery } from \"@apollo/react-hooks\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport { addProductMutation } from \"../Products/mutations\"\nimport { categoriesAllQuery } from \"../Categories/query\"\nimport { connect } from \"react-redux\"\nimport { setIsOpenAddProductModal } from \"../../actions\"\nimport ApolloCacheUpdater from \"apollo-cache-updater\"\nimport { productsAllQuery } from \"../Products/query\"\nimport { priceStringToIntCent } from \"../../utils\"\n\nconst ProductAddForm = ({ isOpenAddProductModal, setIsOpenAddProductModal }) => {\n  const [addProduct, {}] = useMutation(addProductMutation,\n    {\n      update(cache, { data: { addProduct } }) {\n        const { productsAll } = cache.readQuery({ query: productsAllQuery })\n        cache.writeQuery({\n          query: productsAllQuery,\n          data: { productsAll: productsAll.concat([addProduct]) }\n        })\n      }\n    }\n  )\n  const { loading, error, data: data_categories } = useQuery(categoriesAllQuery)\n  const [values, setValues] = useState({})\n  console.log(\"values+++\", values)\n\n  const onFinish = (valuefromformlist) => {\n    console.log(\"Received values of form:\", values)\n\n    const { name, categoryId, icon } = values\n    const price = priceStringToIntCent(values.price)\n    console.log(\"onFinish\")\n    addProduct({\n      variables: {\n        name,\n        price,\n        categoryId,\n        images: !valuefromformlist.images ? [process.env.REACT_APP_NO_IMAGE_AVAILABLE] : valuefromformlist.images,\n        icon\n      }\n    }).then(m => console.log(\"addProduct:\", m))\n      .catch(e => console.log(\"addProductERROR:\", e))\n\n    setIsOpenAddProductModal(false)\n  }\n\n  const handleCancel = e => {\n    e.preventDefault()\n    console.log(e)\n    setIsOpenAddProductModal(false)\n  }\n\n  const handleChange = e => {\n    const { name, value } = e.target\n    console.log(\"target\", e.target)\n    setValues({ ...values, [name]: value })\n  }\n\n  const handleChangeSelect = value => {\n    setValues({ ...values, \"categoryId\": value })\n  }\n  const { categoriesAll = [] } = data_categories\n  console.log(\"isOpenAddProductModal\", isOpenAddProductModal)\n\n  return (\n    <Modal\n      title=\"Product information\"\n      visible={isOpenAddProductModal}\n      footer={false}\n      // onOk={onFinish}\n      onCancel={handleCancel}\n      // forceRender={true}\n      // destroyOnClose={true}\n      // okButtonProps={{htmlType: \"submit\" }}\n      // cancelButtonProps={{ htmlType: \"submit\" }}\n    >\n      <Form\n        // onChange={handleChange}\n        name=\"product\" {...formItemLayoutWithOutLabel}\n        onFinish={onFinish}>\n        <Form.Item\n          label=\"Name product\"\n          // name=\"name\"\n          // noStyle\n          rules={[{ required: true, message: \"Name product is required\" }]}\n        >\n          <Input\n            name=\"name\"\n            onChange={handleChange} placeholder=\"name product\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Price\"\n          // name=\"price\"\n          // noStyle\n          rules={[{ required: true, message: \"Price is required\" }]}\n        >\n          <Input\n            name=\"price\"\n            onChange={handleChange}\n            // value={0}\n            type=\"number\" placeholder=\"Price $\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Category\"\n          name=\"categoryId\"\n          // noStyle\n          // onChange={handleChange}\n          rules={[{ required: true, message: \"Category is required\" }]}\n        >\n          <Select\n            name=\"categoryId\"\n            // onChange={handleChange}\n            onChange={handleChangeSelect}\n            placeholder=\"Select category\">\n            {categoriesAll.map(category =>\n              <Select.Option\n                key={category.id}\n                value={category.id}\n                onChange={handleChange}\n              >{category.name}</Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input\n                        // value={values.images[index]}\n                        style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : null}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Form.Item\n          label=\"Icon\"\n          name=\"icon\"\n          // noStyle\n        >\n          <Input onChange={handleChange} placeholder=\"icon url\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\nexport default connect(state => ({\n    isOpenAddProductModal: state.add_product_modal.isOpen\n  }), { setIsOpenAddProductModal }\n)(ProductAddForm)","import React, { useState } from \"react\"\nimport { Button, Tooltip } from \"antd\"\nimport { PlusOutlined } from \"@ant-design/icons\"\nimport ProductsTable from \"../ProductsTable\"\nimport ProductEditForm from \"../ProductEditForm\"\nimport ProductAddForm from \"../ProductAddForm\"\nimport { connect } from \"react-redux\"\nimport { editProduct, setIsOpenAddProductModal } from \"../../actions\"\n\nconst Products = ({ setIsOpenAddProductModal }) => {\n\n  const onClickHandler = () => {\n    editProduct({})\n    setIsOpenAddProductModal(true)\n  }\n  return (\n    <>\n      <h1>Products</h1>\n      <ProductsTable/>\n      <ProductEditForm/>\n      <ProductAddForm/>\n      <Tooltip title=\"Add Product\">\n        <Button onClick={onClickHandler} type=\"dashed\" shape=\"circle\"\n                style={{ position: \"fixed\", bottom: \"50px\", right: \"50px\", color: \"#08c\" }}\n        ><PlusOutlined\n          style={{ fontSize: \"22px\", color: \"#08c\" }}\n        /></Button>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default connect(null, { setIsOpenAddProductModal, editProduct }, null, { pure: false }\n)(Products)","import React from \"react\"\n\nconst RecycleBinIcon = ({categoryById, productsByCategoryId}) => {\n  if (productsByCategoryId.length == 0)\n    return (\n      <img src={categoryById.icons[0]} width={15} alt=\"recycle bin\"/>\n    )\n  return (\n      <img src={categoryById.icons[3]} width={15} alt=\"recycle bin\"/>\n  )\n}\n\nexport default RecycleBinIcon","import ApolloClient from \"apollo-boost\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { ApolloLink } from 'apollo-link';\n\n// const httpLink = new HttpLink({\n//   uri: process.env.REACT_APP_BASE_URL,\n//   fetch,\n//   credentials: 'same-origin',\n//   headers: {},\n// });\nconst cache = new InMemoryCache();\n// const link = ApolloLink.from([httpLink]);\n  // const link = new HttpLink({ uri: process.env.REACT_APP_BASE_URL }),\nexport const client = new ApolloClient({\n  cache,\n  uri: process.env.REACT_APP_BASE_URL,\n})\n","import React, { useState } from \"react\"\nimport { useMutation, useQuery } from \"@apollo/react-hooks\"\nimport { Button, Form, Modal, Select, Skeleton, Table, Tooltip } from \"antd\"\nimport { deleteProductMutation, updateProductMutation } from \"../Products/mutations\"\nimport { productsByCategoryIdQuery } from \"../Products/query\"\nimport { connect } from \"react-redux\"\nimport { editProduct } from \"../../actions\"\nimport { categoriesAllQuery } from \"../Categories/query\"\nimport { client } from \"../../store/apollo-client\"\nimport { priceToDollars } from \"../../utils\"\n\nconst styleImagesInTable = { width: \"50px\", height: \"100%\", marginRight: \"10px\" }\nconst styleIconInTable = { width: \"20px\", height: \"100%\", marginRight: \"10px\" }\n\nconst RecycleBinProductsTable = ({\n                                   editProduct,\n                                   edited_product\n                                 }) => {\n  const { loading: recycle_bin_prod_loading, recycle_bin_prod_error, data: recycle_bin_prod_data } = useQuery(productsByCategoryIdQuery, {\n    variables: {\n      categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n  const { loading, error, data } = useQuery(categoriesAllQuery)\n  const [values, setValues] = useState({})\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState(false)\n  const [isVisualRestoreModal, setIsVisualRestoreModal] = useState(false)\n  const [productDeleted, setProductDeleted] = useState({})\n  const [deleteProduct, {}] = useMutation(deleteProductMutation,\n    {\n      refetchQueries: [{\n        query: productsByCategoryIdQuery,\n        variables: {\n          categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n        }\n      }]\n    }\n  )\n  const [updateProduct, {}] = useMutation(updateProductMutation,\n    {\n      refetchQueries: [{\n        query: productsByCategoryIdQuery,\n        variables: {\n          categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n        }\n      }]\n    }\n  )\n\n  if (!data) return <p>Loading ... </p>\n  const { categoriesAll } = data\n\n  console.log(\"productDeleted\", productDeleted)\n\n  if (recycle_bin_prod_loading) return <p>Loading ... </p>\n\n  const { productsByCategoryId } = recycle_bin_prod_data\n\n  console.log(\"productsByCategoryId\", productsByCategoryId)\n  const onFinish = (valuefromformlist) => {\n    console.log(\"Received values of form:\", values)\n\n    const { categoryId } = valuefromformlist\n    const { name, images, price, icon } = edited_product\n    const id = String(edited_product.id)\n\n    console.log(\"onFinish\", valuefromformlist)\n    updateProduct({\n      variables: {\n        id, name, price, categoryId, images, icon\n      }\n\n    }).then(m => {\n        console.log(\"updateProductMESSAGE:\", m)\n      }\n    )\n      .catch(e => console.log(\"updateProductERROR:\", e))\n\n    // form.resetFields()\n    setIsVisualRestoreModal(false)\n  }\n  const handleEdit = (id) => {\n    editProduct(productsByCategoryId.find(prod => prod.id === id))\n    setIsVisualRestoreModal(true)\n  }\n  const handleCancelRestore = () => {\n    editProduct({})\n    setIsVisualRestoreModal(false)\n  }\n\n  const handleDelete = (id) => {\n    setIsVisualDeleteModal(true)\n    setProductDeleted(productsByCategoryId.find(prod => prod.id === id))\n  }\n\n  const handleOk = () => {\n    console.log(\"productDeleted.id\", productDeleted.id)\n    deleteProduct({\n      variables: {\n        id: productDeleted.id\n      }\n    }).then(mess => console.log(\"deleteProduct response:\", mess))\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleChange = e => {\n    const { name, value } = e.target\n    setValues({ ...values, [name]: value })\n  }\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\",\n      render: price => {\n        return priceToDollars(price)\n      }\n    },\n    {\n      title: \"Images\",\n      dataIndex: \"images\",\n      key: \"images\",\n      render: images => {\n        return (images)\n          ? <div>\n            {\n              images\n                .map(image => <img\n                  key={image} alt=\"img\"\n                  src={image}\n                  style={styleImagesInTable}/>\n                )\n            }\n          </div>\n          : <span>no icons</span>\n      }\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"id\",\n      key: \"id\",\n      render: (id) => <>\n        <Tooltip title=\"Recovery this product in any category\">\n          <Button onClick={() => handleEdit(id)} type=\"dashed\">\n            Recovery in category\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Delete forever\">\n          <Button onClick={() => handleDelete(id)} type=\"dashed\" danger>\n            Delete\n          </Button>\n        </Tooltip>\n      </>\n    }\n  ]\n\n  return (\n    <>\n      <Table dataSource={productsByCategoryId} columns={columns} rowKey=\"id\"/>\n      <Modal\n        title=\"Delete product?\"\n        visible={isVisualDeleteModal}\n        onOk={() => handleOk(productDeleted.id)}\n        onCancel={handleCancel}\n      >\n        <p>{productDeleted.name}</p>\n      </Modal>\n\n      <Modal\n        footer={false}\n        title=\"Restore in category?\"\n        visible={isVisualRestoreModal}\n        onCancel={handleCancelRestore}\n      >\n        <Form\n          name=\"restore\" onFinish={onFinish}>\n          <Form.Item\n            label=\"Category\"\n            name=\"categoryId\"\n            onChange={handleChange}\n            rules={[{ required: true, message: \"Category is required\" }]}\n          >\n            <Select\n              placeholder=\"Select category\">\n              {categoriesAll.map(category =>\n                <Select.Option\n                  key={category.id}\n                >{category.name}</Select.Option>\n              )\n              }\n            </Select>\n          </Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Restore\n          </Button>\n        </Form>\n      </Modal>\n    </>\n  )\n}\n\nexport default connect(state => ({\n  edited_product: state.edit_product.product\n}), { editProduct })(RecycleBinProductsTable)\n","import React, { useState } from \"react\"\nimport RecycleBinProductsTable from \"../RecycleBinProductsTable\"\nimport { Button, Modal, Tooltip } from \"antd\"\nimport { DeleteOutlined } from \"@ant-design/icons\"\nimport { useMutation } from \"@apollo/react-hooks\"\nimport { clearRecycleBinMutation } from \"../Products/mutations\"\nimport { productsByCategoryIdQuery } from \"../Products/query\"\n\nconst RecycleBin = () => {\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState(false)\n  const [clearRecycleBin] = useMutation(clearRecycleBinMutation,\n    {\n      update(cache, { data: { clearRecycleBin } }) {\n        const { productsByCategoryId } = cache.readQuery({\n          query: productsByCategoryIdQuery,\n          variables: {\n            categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n          }\n        })\n        cache.writeQuery({\n          query: productsByCategoryIdQuery,\n          variables: { categoryId: process.env.REACT_APP_RECYCLE_BIN_ID },\n          data: { productsByCategoryId: [] }\n        })\n      }\n    }\n  )\n\n  const handleDelete = () => {\n    setIsVisualDeleteModal(true)\n  }\n  const handleOk = () => {\n    clearRecycleBin().then(r => console.log(\"Cleared recycle bin\"))\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  return (\n    <>\n      <h1 style={{ display: \"inline-block\" }}>Recycle bin</h1>\n      <Tooltip title=\"Delete all products from recycle bin forever\">\n        <Button style={{ float: \"right\" }} onClick={handleDelete} type=\"dashed\" danger icon={<DeleteOutlined/>}>\n          Clear recycle bin\n        </Button>\n      </Tooltip>\n      <Modal\n        title=\"Clear recycle bin?\"\n        visible={isVisualDeleteModal}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <DeleteOutlined/>...\n      </Modal>\n      <RecycleBinProductsTable/>\n    </>\n  )\n}\n\nexport default RecycleBin","import React from \"react\"\nimport { Empty, Tabs } from \"antd\"\nimport Categories from \"../Categories\"\nimport Products from \"../Products\"\nimport { Query } from \"react-apollo\"\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { categoriesAllQuery, categoryByIdQuery } from \"../Categories/query\"\nimport { productsAllQuery, productsByCategoryIdQuery } from \"../Products/query\"\nimport AndroidOutlined from \"@ant-design/icons/lib/icons/AndroidOutlined\"\nimport RecycleBinIcon from \"../RecycleBinIcon\"\nimport RecycleBin from \"../RecycleBin\"\n\nconst { TabPane } = Tabs\n\nfunction callback(key) {\n  console.log(key)\n}\n\nconst TabsContainer = () => {\n  const { loading: cat_loading, cat_error, data: cat_data } = useQuery(categoriesAllQuery)\n  const { loading: prod_loading, prod_error, data: prod_data } = useQuery(productsAllQuery)\n  const { loading: recycle_bin_loading, recycle_bin_error, data: recycle_bin_data } = useQuery(productsByCategoryIdQuery, {\n    variables: {\n      categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n  const { loading: recycle_bin_prod_loading, recycle_bin_prod_error, data: recycle_bin_prod_data } = useQuery(productsByCategoryIdQuery, {\n    variables: {\n      categoryId: process.env.REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n  const { loading: recycle_bin_cat_loading, recycle_bin_cat_error, data: recycle_bin_cat_data } = useQuery(categoryByIdQuery, {\n    variables: {\n      id: process.env.REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n\n  if (cat_loading || prod_loading || recycle_bin_prod_loading || recycle_bin_cat_loading) return <p>Loading ... </p>\n  const { categoriesAll } = cat_data\n  const { productsAll } = prod_data\n  const { productsByCategoryId } = recycle_bin_prod_data\n  const { categoryById } = recycle_bin_cat_data\n  console.log(\"categoryById\", categoryById)\n  return (\n    <Tabs defaultActiveKey=\"1\" onChange={callback}>\n      <Tabs.TabPane tab=\"Products\" key=\"1\">\n        <Products/>\n      </Tabs.TabPane>\n      <TabPane tab=\"Categories\" key=\"2\">\n        <Categories/>\n      </TabPane>\n      <TabPane tab={\n        <span>\n          <RecycleBinIcon categoryById={categoryById} productsByCategoryId={productsByCategoryId}/>\n          Recycle bin\n        </span>\n      } key=\"3\">\n        {(productsByCategoryId.length === 0) ? <Empty/> : <RecycleBin/>}\n      </TabPane>\n\n    </Tabs>\n  )\n}\n\nexport default TabsContainer","import React from \"react\"\nimport TabsContainer from \"./components/TabsContainer\"\nimport \"antd/dist/antd.css\";\nimport \"./App.css\"\n\nfunction App() {\n  console.log(\"after .env\")\n  console.log(\"process.env.NODE_ENV \",process.env.NODE_ENV)\n  console.log(\"process.env.REACT_APP_BASE_URL \",process.env.REACT_APP_BASE_URL)\n  console.log(\"process.env.REACT_APP_RECYCLE_BIN_ID \",process.env.REACT_APP_RECYCLE_BIN_ID)\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p>\n          <code> APP</code>\n        </p>\n        <a\n          className=\"App-link\"\n          href={process.env.REACT_APP_BASE_URL}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          BASE_URL\n        </a>\n      </header>\n      <TabsContainer/>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { IS_OPEN_EDIT_MODAL } from \"../actions/types\"\n\nconst initialState = {\n  isOpen: false\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case IS_OPEN_EDIT_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { IS_OPEN_ADD_MODAL } from \"../actions/types\"\n\nconst initialState = {\n  isOpen: false\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case IS_OPEN_ADD_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { EDIT_PRODUCT } from \"../actions/types\"\n\nconst initialState = {\n  product: {}\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case EDIT_PRODUCT:\n      return {\n        ...state,\n        product: action.payload\n      }\n    default:\n      return state\n  }\n}","import { combineReducers } from \"redux\"\nimport edit_product_modal from \"./edit-modal\"\nimport add_product_modal from \"./add-modal\"\nimport edit_product from \"./edit-product\"\n\nexport default combineReducers({ edit_product_modal, add_product_modal, edit_product })","\nimport { createStore, compose } from \"redux\";\nimport reducer from \"../reducer\";\n\nconst composeEnhancers =\n  typeof window === \"object\" &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers();\n\nconst store = createStore(reducer, {}, enhancer);\n\nexport default store;","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { ApolloProvider } from \"react-apollo\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport { client } from \"./store/apollo-client\"\nimport store from \"./store\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <App/>\n    </ApolloProvider>\n  </Provider>, document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}