{"version":3,"sources":["actions/types.ts","actions/index.ts","utils/utils.ts","components/Products/mutations/__generated__/AddProduct.tsx","components/Products/queries/__generated__/ProductsAll.tsx","components/Categories/queries/__generated__/CategoriesAll.tsx","components/Products/queries/__generated__/ProductsByNameAndCategoriesId.tsx","components/ProductAddForm/index.tsx","components/ProductsTable/ProductsTableAntd.tsx","components/Products/mutations/__generated__/UpdateProduct.tsx","components/Products/queries/__generated__/ProductsByCategoryId.tsx","components/ProductsSearch/index.tsx","components/ProductsSelectByCategories/index.tsx","components/ProductsTable/index.tsx","components/ProductEditForm/index.tsx","components/Products/index.tsx","components/Categories/queries/__generated__/CategoryById.tsx","components/Categories/mutations/__generated__/DeleteCascadeCategoryWithProductsById.tsx","components/CategoriesTable/index.tsx","components/Categories/mutations/__generated__/AddCategory.tsx","components/CategoryAddForm/index.tsx","components/Categories/mutations/__generated__/UpdateCategory.tsx","components/CategoryEditForm/index.tsx","components/Categories/index.tsx","components/RecycleBinIcon/index.tsx","components/Products/mutations/__generated__/DeleteProduct.tsx","components/RecycleBinProductsTable/index.tsx","components/Products/mutations/__generated__/ClearRecycleBin.tsx","components/RecycleBin/index.tsx","components/TabsContainer/index.tsx","App.tsx","serviceWorker.js","store/apollo-client.ts","reducer/edit-prod-modal.ts","reducer/add-prod-modal.ts","reducer/edit-cat-modal.ts","reducer/add-cat-modal.ts","reducer/edit-product.ts","reducer/edit-category.ts","reducer/categories-list.ts","reducer/search-categories-list.ts","reducer/search-name.ts","reducer/index.ts","store/index.ts","index.tsx"],"names":["REACT_APP_BASE_URL","String","process","REACT_APP_NO_IMAGE_AVAILABLE","REACT_APP_RECYCLE_BIN_ID","editProduct","product","type","payload","clearEditProduct","setIsOpenEditProductModal","isOpen","setIsOpenAddProductModal","setIsOpenEditCategoryModal","setIsOpenAddCategoryModal","priceStringToIntCent","str","Math","round","parseFloat","replace","priceToDollars","price","Number","toLocaleString","style","currency","AddProductDocument","gql","ProductsAllDocument","CategoriesAllDocument","useCategoriesAll","baseOptions","ApolloReactHooks","ProductsByNameAndCategoriesIdDocument","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","connect","state","isOpenAddProductModal","add_product_modal","searchName","search_name","searchCategories","search_categories_list","update","cache","addProduct","data","productsAll","readQuery","query","variables","name","categories","productsByNameAndCategoriesId","writeQuery","concat","refetchQueries","cat_loading","loading","cat_error","error","cat_data","useState","values","setValues","console","log","handleChange","e","target","value","categoriesAll","categoriesAllWithoutRecycleBin","filter","category","_id","title","visible","Boolean","footer","onCancel","onFinish","valuefromformlist","icon","images","then","m","catch","Item","label","rules","required","message","onChange","placeholder","width","marginRight","mode","map","Option","key","List","fields","add","remove","field","index","validateTrigger","whitespace","noStyle","length","className","onClick","htmlType","styleImagesInTable","height","ProductsTableAntd","handleEditProp","handleDeleteProp","productsAllWithoutRecycleBinProp","columns","dataIndex","render","tag","color","image","alt","src","id","float","danger","dataSource","rowKey","UpdateProductDocument","useUpdateProduct","ProductsByCategoryIdDocument","useProductsByCategoryId","Search","Input","ProductsSearch","handleSearch","handleEnterSearch","onKeyPress","onSearch","Select","categories_list","defaultValue","cat","setSearchCategories","searchCtegories","setSearchName","updateProduct","prod_loading","prod_error","prod_data","isVisualDeleteModal","setIsVisualDeleteModal","productDeleted","setProductDeleted","useEffect","productsAllWithoutRecycleBin","prod","includes","charCode","find","onOk","push","handleOk","isOpenEditProductModal","edit_product_modal","edited_product","edit_product","Form","useForm","formEditProduct","setFieldsValue","resetFields","form","shape","position","bottom","right","PlusOutlined","fontSize","CategoryByIdDocument","DeleteCascadeCategoryWithProductsByIdDocument","styleIconInTable","editCategory","deleteCascadeCategoryWithProductsById","categoryDeleted","setCategoryDeleted","parent","icons","handleEdit","handleDelete","mess","AddCategoryDocument","isOpenAddCategoryModal","add_cat_modal","addCategory","UpdateCategoryDocument","isOpenEditCategoryModal","edit_cat_modal","edited_category","edit_category","clearEditCategory","formEditCategory","updateCategory","RecycleBinIcon","categoryById","productsByCategoryId","DeleteProductDocument","recycle_bin_prod_loading","recycle_bin_prod_error","recycle_bin_prod_data","isVisualRestoreModal","setIsVisualRestoreModal","deleteProduct","categoriesWithoutRecyclebin","productWithoutRecycleBin","valuefromform","ClearRecycleBinDocument","RecycleBin","clearRecycleBin","display","TabPane","Tabs","callback","categoriesList","useCategoryById","recycle_bin_cat_loading","recycle_bin_cat_error","recycle_bin_cat_data","defaultActiveKey","tab","App","href","rel","window","location","hostname","match","InMemoryCache","client","ApolloClient","uri","initialState","rootReducer","combineReducers","action","composeEnhancers","composeWithDevTools","store","createStore","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1294f86b.chunk.js","sourcesContent":["export const EDIT_PRODUCT = \"EDIT_PRODUCT\"\nexport const CLEAR_EDIT_PRODUCT = \"CLEAR_EDIT_PRODUCT\"\nexport const EDIT_CATEGORY = \"EDIT_CATEGORY\"\nexport const CATEGORIES_LIST = \"CATEGORIES_LIST\"\nexport const SEARCH_CATEGORIES_LIST = \"SEARCH_CATEGORIES_LIST\"\nexport const SEARCH_NAME = \"SEARCH_NAME\"\nexport const IS_OPEN_EDIT_PRODUCT_MODAL = \"IS_OPEN_EDIT_PRODUCT_MODAL\"\nexport const IS_OPEN_ADD_PRODUCT_MODAL = \"IS_OPEN_ADD_PRODUCT_MODAL\"\nexport const IS_OPEN_EDIT_CATEGORY_MODAL = \"IS_OPEN_EDIT_CATEGORY_MODAL\"\nexport const IS_OPEN_ADD_CATEGORY_MODAL = \"IS_OPEN_ADD_CATEGORY_MODAL\"\nexport const CLEAR_EDIT_CATEGORY = \"CLEAR_EDIT_CATEGORY\"\n\nexport const REACT_APP_BASE_URL = String(process.env.REACT_APP_BASE_URL)\nexport const REACT_APP_NO_IMAGE_AVAILABLE = String(process.env.REACT_APP_NO_IMAGE_AVAILABLE)\nexport const REACT_APP_RECYCLE_BIN_ID = String(process.env.REACT_APP_RECYCLE_BIN_ID)\n// export const REACT_APP_WITHOUT_CATEGORY_ID= String(process.env.REACT_APP_WITHOUT_CATEGORY_ID)\n\n// export interface FieldData {\n//   name: number;\n//   key: number;\n//   fieldKey: number;\n// }\n// export interface FormListProps {\n//   name: string | number | (string | number)[];\n//   children: (fields: FieldData[], operation: Operation) => React.ReactNode;\n// }\n// export interface Operation {\n//   add: (defaultValue?: StoreValue) => void;\n//   remove: (index: number) => void;\n//   move: (from: number, to: number) => void;\n// }\n\n\nexport interface CategoryRequireIcons {\n  id?: String\n  name?: String\n  icons: String[]\n}\n","import { Category, Product } from \"../__generated__/types\"\nimport {\n  CATEGORIES_LIST, CLEAR_EDIT_CATEGORY, CLEAR_EDIT_PRODUCT, EDIT_CATEGORY,\n  EDIT_PRODUCT, IS_OPEN_ADD_CATEGORY_MODAL, IS_OPEN_ADD_PRODUCT_MODAL,\n  IS_OPEN_EDIT_CATEGORY_MODAL, IS_OPEN_EDIT_PRODUCT_MODAL,\n  SEARCH_CATEGORIES_LIST, SEARCH_NAME\n} from \"./types\"\n\nexport const editProduct = (product: Product) => ({\n  type: EDIT_PRODUCT,\n  payload: product\n} as const)\n\nexport const clearEditProduct = () => ({\n  type: CLEAR_EDIT_PRODUCT\n} as const)\n\nexport const editCategory = (category: Category) => ({\n  type: EDIT_CATEGORY,\n  payload: category\n} as const)\n\nexport const categoriesList = (categories: String[] | []) => ({\n  type: CATEGORIES_LIST,\n  payload: categories\n} as const)\n\nexport const setSearchCategories = (searchCtegories: String[] | [] | undefined) => ({\n  type: SEARCH_CATEGORIES_LIST,\n  payload: searchCtegories\n} as const)\n\nexport const setSearchName = (searchName: String | void | undefined) => ({\n  type: SEARCH_NAME,\n  payload: searchName\n} as const)\n\nexport const setIsOpenEditProductModal = (isOpen: boolean) => ({\n  type: IS_OPEN_EDIT_PRODUCT_MODAL,\n  payload: isOpen\n} as const)\n\nexport const setIsOpenAddProductModal = (isOpen: boolean) => ({\n  type: IS_OPEN_ADD_PRODUCT_MODAL,\n  payload: isOpen\n} as const)\n\nexport const setIsOpenEditCategoryModal = (isOpen: boolean) => ({\n  type: IS_OPEN_EDIT_CATEGORY_MODAL,\n  payload: isOpen\n} as const)\n\nexport const setIsOpenAddCategoryModal = (isOpen: boolean) => ({\n  type: IS_OPEN_ADD_CATEGORY_MODAL,\n  payload: isOpen\n})\n\nexport const clearEditCategory = () => ({\n  type: CLEAR_EDIT_CATEGORY\n} as const)","export const priceStringToIntCent = (str: string) => {\n  return Math.round(100 * parseFloat(str.replace(/[$,]/g, '')));\n}\nexport const priceToDollars = (price: any) => {\n  return Number(price / 100)\n    .toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" })\n}\n\nexport function toArray<T>(candidate?: T | T[] | false): T[] {\n  if (candidate === undefined || candidate === false) return [];\n\n  return Array.isArray(candidate) ? candidate : [candidate];\n}\n","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type AddProductVariables = {\n  name: Types.Scalars['String'];\n  price: Types.Scalars['Float'];\n  categories?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  images?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  icon?: Types.Maybe<Types.Scalars['String']>;\n};\n\n\nexport type AddProduct = (\n  { __typename: 'Mutation' }\n  & { addProduct?: Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )> }\n);\n\n\nexport const AddProductDocument = gql`\n    mutation AddProduct($name: String!, $price: Float!, $categories: [String], $images: [String], $icon: String) {\n  addProduct(name: $name, price: $price, categories: $categories, images: $images, icon: $icon) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\nexport type AddProductMutationFn = ApolloReactCommon.MutationFunction<AddProduct, AddProductVariables>;\n\n/**\n * __useAddProduct__\n *\n * To run a mutation, you first call `useAddProduct` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddProduct` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addProduct, { data, loading, error }] = useAddProduct({\n *   variables: {\n *      name: // value for 'name'\n *      price: // value for 'price'\n *      categories: // value for 'categories'\n *      images: // value for 'images'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useAddProduct(baseOptions?: ApolloReactHooks.MutationHookOptions<AddProduct, AddProductVariables>) {\n        return ApolloReactHooks.useMutation<AddProduct, AddProductVariables>(AddProductDocument, baseOptions);\n      }\nexport type AddProductHookResult = ReturnType<typeof useAddProduct>;\nexport type AddProductMutationResult = ApolloReactCommon.MutationResult<AddProduct>;\nexport type AddProductMutationOptions = ApolloReactCommon.BaseMutationOptions<AddProduct, AddProductVariables>;","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type ProductsAllVariables = {};\n\n\nexport type ProductsAll = (\n  { __typename: 'Query' }\n  & { productsAll?: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )>>> }\n);\n\n\nexport const ProductsAllDocument = gql`\n    query ProductsAll {\n  productsAll {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\n\n/**\n * __useProductsAll__\n *\n * To run a query within a React component, call `useProductsAll` and pass it any options that fit your needs.\n * When your component renders, `useProductsAll` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useProductsAll({\n *   variables: {\n *   },\n * });\n */\nexport function useProductsAll(baseOptions?: ApolloReactHooks.QueryHookOptions<ProductsAll, ProductsAllVariables>) {\n        return ApolloReactHooks.useQuery<ProductsAll, ProductsAllVariables>(ProductsAllDocument, baseOptions);\n      }\nexport function useProductsAllLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ProductsAll, ProductsAllVariables>) {\n          return ApolloReactHooks.useLazyQuery<ProductsAll, ProductsAllVariables>(ProductsAllDocument, baseOptions);\n        }\nexport type ProductsAllHookResult = ReturnType<typeof useProductsAll>;\nexport type ProductsAllLazyQueryHookResult = ReturnType<typeof useProductsAllLazyQuery>;\nexport type ProductsAllQueryResult = ApolloReactCommon.QueryResult<ProductsAll, ProductsAllVariables>;","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CategoriesAllVariables = {};\n\n\nexport type CategoriesAll = (\n  { __typename: 'Query' }\n  & { categoriesAll?: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'Category' }\n    & Pick<Types.Category, '_id' | 'name' | 'icons' | 'images' | 'parent'>\n  )>>> }\n);\n\n\nexport const CategoriesAllDocument = gql`\n    query CategoriesAll {\n  categoriesAll {\n    _id\n    name\n    icons\n    images\n    parent\n  }\n}\n    `;\n\n/**\n * __useCategoriesAll__\n *\n * To run a query within a React component, call `useCategoriesAll` and pass it any options that fit your needs.\n * When your component renders, `useCategoriesAll` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCategoriesAll({\n *   variables: {\n *   },\n * });\n */\nexport function useCategoriesAll(baseOptions?: ApolloReactHooks.QueryHookOptions<CategoriesAll, CategoriesAllVariables>) {\n        return ApolloReactHooks.useQuery<CategoriesAll, CategoriesAllVariables>(CategoriesAllDocument, baseOptions);\n      }\nexport function useCategoriesAllLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CategoriesAll, CategoriesAllVariables>) {\n          return ApolloReactHooks.useLazyQuery<CategoriesAll, CategoriesAllVariables>(CategoriesAllDocument, baseOptions);\n        }\nexport type CategoriesAllHookResult = ReturnType<typeof useCategoriesAll>;\nexport type CategoriesAllLazyQueryHookResult = ReturnType<typeof useCategoriesAllLazyQuery>;\nexport type CategoriesAllQueryResult = ApolloReactCommon.QueryResult<CategoriesAll, CategoriesAllVariables>;","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type ProductsByNameAndCategoriesIdVariables = {\n  name: Types.Scalars['String'];\n  categories?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n};\n\n\nexport type ProductsByNameAndCategoriesId = (\n  { __typename: 'Query' }\n  & { productsByNameAndCategoriesId?: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )>>> }\n);\n\n\nexport const ProductsByNameAndCategoriesIdDocument = gql`\n    query ProductsByNameAndCategoriesId($name: String!, $categories: [String]) {\n  productsByNameAndCategoriesId(name: $name, categories: $categories) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\n\n/**\n * __useProductsByNameAndCategoriesId__\n *\n * To run a query within a React component, call `useProductsByNameAndCategoriesId` and pass it any options that fit your needs.\n * When your component renders, `useProductsByNameAndCategoriesId` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useProductsByNameAndCategoriesId({\n *   variables: {\n *      name: // value for 'name'\n *      categories: // value for 'categories'\n *   },\n * });\n */\nexport function useProductsByNameAndCategoriesId(baseOptions?: ApolloReactHooks.QueryHookOptions<ProductsByNameAndCategoriesId, ProductsByNameAndCategoriesIdVariables>) {\n        return ApolloReactHooks.useQuery<ProductsByNameAndCategoriesId, ProductsByNameAndCategoriesIdVariables>(ProductsByNameAndCategoriesIdDocument, baseOptions);\n      }\nexport function useProductsByNameAndCategoriesIdLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ProductsByNameAndCategoriesId, ProductsByNameAndCategoriesIdVariables>) {\n          return ApolloReactHooks.useLazyQuery<ProductsByNameAndCategoriesId, ProductsByNameAndCategoriesIdVariables>(ProductsByNameAndCategoriesIdDocument, baseOptions);\n        }\nexport type ProductsByNameAndCategoriesIdHookResult = ReturnType<typeof useProductsByNameAndCategoriesId>;\nexport type ProductsByNameAndCategoriesIdLazyQueryHookResult = ReturnType<typeof useProductsByNameAndCategoriesIdLazyQuery>;\nexport type ProductsByNameAndCategoriesIdQueryResult = ApolloReactCommon.QueryResult<ProductsByNameAndCategoriesId, ProductsByNameAndCategoriesIdVariables>;","import React, { useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Button, Form, Input, Modal, Select } from \"antd\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport { setIsOpenAddProductModal } from \"../../actions\"\nimport { priceStringToIntCent } from \"../../utils/utils\"\nimport {\n  REACT_APP_NO_IMAGE_AVAILABLE, REACT_APP_RECYCLE_BIN_ID\n} from \"../../actions/types\"\nimport { RootState } from \"../../reducer\"\nimport { IProductsAll, IProductsByNameAndCategoriesId } from \"../Products/types\"\nimport { useAddProduct } from \"../Products/mutations/__generated__/AddProduct\"\nimport { ProductsAllDocument } from \"../Products/queries/__generated__/ProductsAll\"\nimport { useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { Category, Product } from \"../../__generated__/types\"\nimport { ProductsByNameAndCategoriesIdDocument } from \"../Products/queries/__generated__/ProductsByNameAndCategoriesId\"\n\ntype PropsProductAddForm = {\n  setIsOpenAddProductModal: (isOpen: Boolean) => void\n  isOpenAddProductModal: Boolean\n  searchName: String | void | undefined\n  searchCategories: String[] | [] | undefined\n}\n\nconst ProductAddForm: React.FC<PropsProductAddForm> = ({ isOpenAddProductModal, setIsOpenAddProductModal, searchName, searchCategories }) => {\n  const [addProduct] = useAddProduct(\n    {\n      // TODO:\n      // @ts-ignore\n      update(cache, { data: { addProduct } }) {\n        const { productsAll } = cache.readQuery<IProductsAll>({ query: ProductsAllDocument })!.productsAll\n        const { productsByNameAndCategoriesId } = cache.readQuery<IProductsByNameAndCategoriesId>({\n          query: ProductsByNameAndCategoriesIdDocument,\n          variables: {\n            name: searchName,\n            categories: searchCategories\n          }\n        })!.productsByNameAndCategoriesId\n        cache.writeQuery({\n          query: ProductsAllDocument,\n          data: {\n            productsAll: productsAll?.concat([addProduct]),\n            // TODO: first adding no update cache\n            // if add product includes search categories, update cache query productsByNameAndCategoriesId\n            // @ts-ignore\n            // productsByNameAndCategoriesId: addProduct.categories.every((cat: any) => searchCategories?.includes(cat)) ? productsByNameAndCategoriesId?.concat([addProduct]) : productsByNameAndCategoriesId\n          }\n        })\n      },\n      refetchQueries: [{\n        query: ProductsAllDocument\n      }\n        , {\n          query: ProductsByNameAndCategoriesIdDocument,\n          variables: {\n            name: searchName,\n            categories: searchCategories\n          }\n        }\n      ]\n    }\n  )\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [values, setValues] = useState<Product | any>({})\n  console.log(\"values+++\", values)\n\n  const onFinish = (valuefromformlist: Product) => {\n    console.log(\"Received values of form:\", values)\n\n    const { name, icon } = values\n    const price = priceStringToIntCent(values.price)\n    console.log(\"onFinish\")\n    addProduct({\n      variables: {\n        name,\n        price,\n        categories: valuefromformlist.categories,\n        images: !valuefromformlist.images ? [REACT_APP_NO_IMAGE_AVAILABLE] : valuefromformlist.images,\n        icon\n      }\n    }).then(m => console.log(\"addProduct:\", m))\n      .catch(e => console.log(\"addProductERROR:\", e))\n\n    setIsOpenAddProductModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsOpenAddProductModal(false)\n  }\n\n  const handleChange = (e: { target: HTMLInputElement }) => {\n    const { name, value } = e.target\n    console.log(\"target\", e.target)\n    setValues({ ...values, [name]: value })\n  }\n\n  const handleChangeSelect = (value: string) => {\n    setValues({ ...values, \"categoryId\": value })\n  }\n\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category) => {\n    return category?._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n  console.log(\"isOpenAddProductModal\", isOpenAddProductModal)\n\n  return (\n    <Modal\n      title=\"Product information\"\n      visible={Boolean(isOpenAddProductModal)}\n      footer={false}\n      onCancel={handleCancel}\n    >\n      <Form\n        // onChange={handleChange}\n        name=\"product\" {...formItemLayoutWithOutLabel}\n        // @ts-ignore\n        onFinish={onFinish}>\n        <Form.Item\n          label=\"Name product\"\n          rules={[{ required: true, message: \"Name product is required\" }]}\n        >\n          <Input\n            name=\"name\"\n            onChange={handleChange} placeholder=\"name product\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Price\"\n          rules={[{ required: true, message: \"Price is required\" }]}\n        >\n          <Input\n            name=\"price\"\n            onChange={handleChange}\n            type=\"number\" placeholder=\"Price $\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Category\"\n          name=\"categories\"\n          // noStyle\n          rules={[{ required: true, message: \"Category is required\" }]}\n        >\n          <Select\n            onChange={handleChangeSelect}\n            mode=\"multiple\"\n            placeholder=\"Select category\">\n            {categoriesAllWithoutRecycleBin?.map((category) =>\n              <Select.Option\n                key={String(category?._id)}\n                value={String(category?._id)}\n                onChange={handleChange}\n              >{String(category?._id)}\n              </Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input\n                        style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n\n                    {(fields.length >= 1) ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Form.Item\n          label=\"Icon\"\n          name=\"icon\"\n          // noStyle\n        >\n          <Input onChange={handleChange} placeholder=\"icon url\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\ninterface StateProps {\n  isOpenAddProductModal: Boolean\n  searchName: String\n  searchCategories: String[]\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  isOpenAddProductModal: state.add_product_modal.isOpen,\n  searchName: state.search_name.searchName,\n  searchCategories: state.search_categories_list.searchCategories\n})\n\nexport default connect<typeof ProductAddForm>(\n  // TODO:\n// @ts-ignore\n  mapStateToProps,\n  { setIsOpenAddProductModal }\n)(ProductAddForm)","import React from \"react\"\nimport { priceToDollars } from \"../../utils/utils\"\nimport { Button, Table, Tooltip, Tag } from \"antd\"\nimport DeleteOutlined from \"@ant-design/icons/lib/icons/DeleteOutlined\"\nimport { ProductsAll } from \"../Products/queries/__generated__/ProductsAll\"\n\nconst styleImagesInTable = { width: \"50px\", height: \"100%\", marginRight: \"10px\" }\n\ninterface PropsProductsTableAntd {\n  handleEditProp: (id: String) => void\n  handleDeleteProp: (id: String) => void\n  productsAllWithoutRecycleBinProp: ProductsAll\n}\n\nconst ProductsTableAntd: React.FC<PropsProductsTableAntd> = ({ handleEditProp, handleDeleteProp, productsAllWithoutRecycleBinProp }) => {\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\",\n      render: (price: Number) => {\n        return priceToDollars(price)\n      }\n    },\n    {\n      title: \"Categories\",\n      dataIndex: \"categories\",\n      key: \"categories\",\n      render: (categories: String[]) => (\n        <span>\n          {categories.map(tag => (\n            <Tag color=\"blue\" key={String(tag)}>\n              {tag}\n            </Tag>\n          ))}\n        </span>\n      )\n    },\n    {\n      title: \"Images\",\n      dataIndex: \"images\",\n      key: \"images\",\n      render: (images: String[]) => {\n        return (images)\n          ? <div>\n            {\n              images\n                .map((image, index) => <img\n                  key={String(`${image}+${index}`)}\n                  alt=\"img\"\n                  src={String(image)}\n                  style={styleImagesInTable}/>\n                )\n            }\n          </div>\n          : <span>no  images</span>\n      }\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"id\",\n      key: \"id\",\n      render: (id: String) => <>\n        <Tooltip title=\"Edit this product\">\n          <Button onClick={() => handleEditProp(id)}\n                  type=\"dashed\">\n            Edit\n          </Button>\n        </Tooltip>\n        <Tooltip\n          title=\"Move to recycle bin\">\n          <Button style={{ float: \"right\" }}\n                  onClick={() => handleDeleteProp(id)}\n                  type=\"dashed\"\n                  danger\n                  icon={<DeleteOutlined/>}>\n          </Button>\n        </Tooltip>\n      </>\n    }\n  ]\n  return (\n    <>\n      <Table\n        // TODO:\n        // @ts-ignore\n        dataSource={productsAllWithoutRecycleBinProp}\n        columns={columns}\n        rowKey=\"id\"/>\n    </>\n  )\n}\n\nexport default ProductsTableAntd","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type UpdateProductVariables = {\n  id: Types.Scalars['ID'];\n  name: Types.Scalars['String'];\n  price: Types.Scalars['Float'];\n  categories?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  images?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  icon?: Types.Maybe<Types.Scalars['String']>;\n};\n\n\nexport type UpdateProduct = (\n  { __typename: 'Mutation' }\n  & { updateProduct?: Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )> }\n);\n\n\nexport const UpdateProductDocument = gql`\n    mutation UpdateProduct($id: ID!, $name: String!, $price: Float!, $categories: [String], $images: [String], $icon: String) {\n  updateProduct(id: $id, name: $name, price: $price, categories: $categories, images: $images, icon: $icon) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\nexport type UpdateProductMutationFn = ApolloReactCommon.MutationFunction<UpdateProduct, UpdateProductVariables>;\n\n/**\n * __useUpdateProduct__\n *\n * To run a mutation, you first call `useUpdateProduct` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdateProduct` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updateProduct, { data, loading, error }] = useUpdateProduct({\n *   variables: {\n *      id: // value for 'id'\n *      name: // value for 'name'\n *      price: // value for 'price'\n *      categories: // value for 'categories'\n *      images: // value for 'images'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useUpdateProduct(baseOptions?: ApolloReactHooks.MutationHookOptions<UpdateProduct, UpdateProductVariables>) {\n        return ApolloReactHooks.useMutation<UpdateProduct, UpdateProductVariables>(UpdateProductDocument, baseOptions);\n      }\nexport type UpdateProductHookResult = ReturnType<typeof useUpdateProduct>;\nexport type UpdateProductMutationResult = ApolloReactCommon.MutationResult<UpdateProduct>;\nexport type UpdateProductMutationOptions = ApolloReactCommon.BaseMutationOptions<UpdateProduct, UpdateProductVariables>;","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type ProductsByCategoryIdVariables = {\n  id: Types.Scalars['String'];\n};\n\n\nexport type ProductsByCategoryId = (\n  { __typename: 'Query' }\n  & { productsByCategoryId?: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )>>> }\n);\n\n\nexport const ProductsByCategoryIdDocument = gql`\n    query ProductsByCategoryId($id: String!) {\n  productsByCategoryId(id: $id) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\n\n/**\n * __useProductsByCategoryId__\n *\n * To run a query within a React component, call `useProductsByCategoryId` and pass it any options that fit your needs.\n * When your component renders, `useProductsByCategoryId` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useProductsByCategoryId({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useProductsByCategoryId(baseOptions?: ApolloReactHooks.QueryHookOptions<ProductsByCategoryId, ProductsByCategoryIdVariables>) {\n        return ApolloReactHooks.useQuery<ProductsByCategoryId, ProductsByCategoryIdVariables>(ProductsByCategoryIdDocument, baseOptions);\n      }\nexport function useProductsByCategoryIdLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ProductsByCategoryId, ProductsByCategoryIdVariables>) {\n          return ApolloReactHooks.useLazyQuery<ProductsByCategoryId, ProductsByCategoryIdVariables>(ProductsByCategoryIdDocument, baseOptions);\n        }\nexport type ProductsByCategoryIdHookResult = ReturnType<typeof useProductsByCategoryId>;\nexport type ProductsByCategoryIdLazyQueryHookResult = ReturnType<typeof useProductsByCategoryIdLazyQuery>;\nexport type ProductsByCategoryIdQueryResult = ApolloReactCommon.QueryResult<ProductsByCategoryId, ProductsByCategoryIdVariables>;","import React from \"react\"\nimport { Input } from \"antd\"\n\nconst { Search } = Input\n\ninterface PropsProductsSearch {\n  handleSearch: (e: any) => any\n  handleEnterSearch: (e: any) => any\n}\n\nconst ProductsSearch: React.FC<PropsProductsSearch> = ({ handleSearch, handleEnterSearch }) => {\n  return (\n    <Search\n      onKeyPress={handleEnterSearch}\n      placeholder=\"input search text\"\n      onSearch={(value) => handleSearch(value)}\n      style={{ width: '30%' }}\n    />\n  )\n}\n\nexport default ProductsSearch","import React from \"react\"\nimport { Select } from \"antd\"\nimport { RootState } from \"../../reducer\"\nimport { connect } from \"react-redux\"\n\nconst { Option } = Select\n\ninterface Props {\n  categories: String[] | [] | any\n  handleChange: (e: any) => any\n  searchCategories: String[] | [] | undefined\n}\n\n\nconst ProductsSelectByCategories: React.FC<Props> = ({ categories, handleChange, searchCategories }) => {\n  return (\n    <Select\n      mode=\"multiple\"\n      // @ts-ignore\n      defaultValue={searchCategories.length === categories.length ? [] : searchCategories}\n      style={{ width: \"30%\" }}\n      placeholder=\"Please select categories\"\n      onChange={(value: string[]) => {\n        // if categories empty, search all categories\n        return value?.length === 0 ?\n          handleChange(categories)\n          :\n          handleChange(value)\n      }}\n    >\n      {categories?.map((cat: String) => {\n          return <Option\n            // @ts-ignore\n            key={cat}>\n            {cat}\n          </Option>\n        }\n      )\n      }\n    </Select>\n  )\n}\n\ninterface StateProps {\n  categories: String[]\n  searchCategories: String[]\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  categories: state.categories_list.categories,\n  searchCategories: state.search_categories_list.searchCategories\n})\n\nexport default connect<typeof ProductsSelectByCategories>(\n// @ts-ignore\n  mapStateToProps\n)(ProductsSelectByCategories)\n","import React, { useEffect, useState } from \"react\"\nimport { Modal } from \"antd\"\nimport { connect } from \"react-redux\"\nimport {\n  editProduct,\n  setIsOpenEditProductModal, setSearchCategories,\n  setSearchName\n} from \"../../actions\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport ProductsTableAntd from \"./ProductsTableAntd\"\nimport { useUpdateProduct } from \"../Products/mutations/__generated__/UpdateProduct\"\nimport { ProductsByCategoryIdDocument } from \"../Products/queries/__generated__/ProductsByCategoryId\"\nimport { Product } from \"../../__generated__/types\"\nimport ProductsSearch from \"../ProductsSearch\"\nimport ProductsSelectByCategories from \"../ProductsSelectByCategories\"\nimport {\n  ProductsByNameAndCategoriesIdDocument,\n  useProductsByNameAndCategoriesId\n} from \"../Products/queries/__generated__/ProductsByNameAndCategoriesId\"\nimport { useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { RootState } from \"../../reducer\"\n\ninterface PropsProductsTable {\n  editProduct: (product: Product | undefined) => void\n  setSearchCategories: (searchCtegories: String[] | [] | undefined) => void\n  setSearchName: (searchName: String | void | undefined) => void\n  setIsOpenEditProductModal: (isOpen: Boolean | undefined) => void\n  categories: String[] | [] | any\n  searchName: String | void | undefined\n  searchCategories: String[] | [] | undefined\n}\n\nconst ProductsTable: React.FC<PropsProductsTable> = ({ categories, editProduct, setIsOpenEditProductModal, setSearchCategories, setSearchName, searchName, searchCategories }) => {\n  const [updateProduct] = useUpdateProduct(\n    {\n      refetchQueries: [{\n        query: ProductsByCategoryIdDocument,\n        variables: {\n          id: REACT_APP_RECYCLE_BIN_ID\n        }\n      },\n        {\n          query: ProductsByNameAndCategoriesIdDocument,\n          variables: {\n            name: searchName,\n            categories: searchCategories\n          }\n        }]\n    }\n  )\n\n  const { loading: prod_loading, error: prod_error, data: prod_data } = useProductsByNameAndCategoriesId(\n    {\n      variables: {\n        name: searchName as string,\n        categories: searchCategories as string[]\n      }\n    }\n  )\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState<Boolean>(false)\n  const [productDeleted, setProductDeleted] = useState<Product | any>({})\n\n  useEffect(() => {\n    setSearchCategories(categories)\n  }, [categories])\n\n  console.log(\"productDeleted\", productDeleted)\n\n  if (prod_loading || cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (prod_error || !prod_data || cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { productsByNameAndCategoriesId } = prod_data\n\n  // TODO:\n  // @ts-ignore\n  const productsAllWithoutRecycleBin = productsByNameAndCategoriesId?.filter((prod: Product) => {\n    return !prod?.categories?.includes(REACT_APP_RECYCLE_BIN_ID)\n  })\n  const handleEdit = (id: String): void => {\n    const prod = productsAllWithoutRecycleBin?.find((prod: Product) => prod.id === id)\n    editProduct(prod)\n    setIsOpenEditProductModal(true)\n  }\n\n  const handleDelete = (id: String): void => {\n    setIsVisualDeleteModal(true)\n    setProductDeleted(productsAllWithoutRecycleBin.find((prod: Product) => prod.id === id))\n  }\n\n  const handleOk = (productDeleted: Product | any): void => {\n    const { id, name, price, categories, images, icon } = productDeleted\n\n    categories.push(REACT_APP_RECYCLE_BIN_ID)\n\n    updateProduct({\n      variables: {\n        id, name, price, categories, images, icon\n      }\n    }).then(m => console.log(\"updateProductMESSAGE:\", m))\n      .catch((e: Error) => console.log(\"updateProductERROR:\", e))\n\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleSearch = (value: string) => {\n    setSearchName(value)\n  }\n\n  const handleEnterSearch = (e: any) => {\n    if (e.charCode === 13) {\n      setSearchName(e.target.value)\n    }\n  }\n\n  const handleChange = (values: string[]) => {\n    if (values.length < 1) {\n      setSearchCategories(categories)\n    }\n    setSearchCategories(values)\n  }\n\n  return (\n    <>\n      <ProductsSearch handleEnterSearch={handleEnterSearch}\n                      handleSearch={handleSearch}/>\n      <ProductsSelectByCategories handleChange={handleChange}/>\n      <ProductsTableAntd productsAllWithoutRecycleBinProp={productsAllWithoutRecycleBin}\n                         handleEditProp={handleEdit}\n                         handleDeleteProp={handleDelete}/>\n      <Modal\n        title=\"Delete product in recycle bin?\"\n        visible={Boolean(isVisualDeleteModal)}\n        onOk={() => handleOk(productDeleted)}\n        onCancel={handleCancel}\n      >\n        <p>{productDeleted.id}</p>\n      </Modal>\n    </>\n  )\n}\n\ninterface StateProps {\n  categories: String[]\n  searchName: String\n  searchCategories: String[]\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  categories: state.categories_list.categories,\n  searchName: state.search_name.searchName,\n  searchCategories: state.search_categories_list.searchCategories\n})\nexport default connect<typeof ProductsTable>(\n// @ts-ignore\n  mapStateToProps\n  , {\n    setSearchCategories,\n    setSearchName,\n    setIsOpenEditProductModal,\n    editProduct\n  })(ProductsTable)","import React, { useEffect, useState } from \"react\"\nimport { Button, Form, Input, Modal, Select } from \"antd\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport { connect } from \"react-redux\"\nimport { clearEditProduct, setIsOpenEditProductModal } from \"../../actions\"\nimport { priceStringToIntCent } from \"../../utils/utils\"\nimport { RootState } from \"../../reducer\"\nimport { useUpdateProduct } from \"../Products/mutations/__generated__/UpdateProduct\"\nimport { useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { Product } from \"../../__generated__/types\"\n\ninterface PropsProductEditForm {\n  edited_product: Product\n  clearEditProduct: () => void\n  setIsOpenEditProductModal: (isOpen: Boolean) => void\n  isOpenEditProductModal: Boolean\n}\n\nconst ProductEditForm: React.FC<PropsProductEditForm> = (\n  {\n    clearEditProduct, edited_product,\n    isOpenEditProductModal, setIsOpenEditProductModal\n  }) => {\n  const [formEditProduct] = Form.useForm()\n  const [updateProduct] = useUpdateProduct()\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [values, setValues] = useState<Product | any>({})\n  useEffect(() => {\n    setValues(edited_product)\n  }, [edited_product])\n  useEffect(() => {\n    formEditProduct.setFieldsValue({\n      \"name\": edited_product.name,\n      \"price\": edited_product.price,\n      \"images\": edited_product.images,\n      \"icon\": edited_product.icon,\n      \"categories\": edited_product.categories\n    })\n    return () => {\n      formEditProduct.resetFields()\n    }\n  }, [edited_product, formEditProduct])\n\n  const onFinish = (valuefromformlist: Product) => {\n    const { name, categories, images, icon } = valuefromformlist\n    const id = String(values?.id)\n    const price = priceStringToIntCent(String(valuefromformlist.price))\n\n    updateProduct({\n      variables: {\n        id, name, price, categories, images, icon\n      }\n    }).then(m => console.log(\"updateProductMESSAGE:\", m))\n      .catch(e => console.log(\"updateProductERROR:\", e))\n    setIsOpenEditProductModal(false)\n  }\n  const handleCancel = () => {\n    setIsOpenEditProductModal(false)\n    clearEditProduct()\n  }\n  const handleChange = (e: { target: HTMLInputElement }) => {\n    const { name, value } = e.target\n    setValues({ ...values, [name]: value })\n  }\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category) => {\n    return category?._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n\n  return (\n    <Modal\n      title={`Product information id: ${values.id}`}\n      visible={Boolean(isOpenEditProductModal)}\n      footer={false}\n      onCancel={handleCancel}\n      // forceRender={true}\n      // destroyOnClose={false}\n    >\n\n      <Form\n        form={formEditProduct}\n        name=\"product\" {...formItemLayoutWithOutLabel}\n        // TODO:\n        // @ts-ignore\n        onFinish={onFinish}>\n\n        <Form.Item\n          label=\"Name product\"\n          name=\"name\"\n          // TODO:\n          // @ts-ignore\n          value={String(values?.name)}\n          rules={[{ required: true, message: \"Name product is required\" }]}\n        >\n          <Input\n\n            onChange={handleChange} placeholder=\"name product\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Price\"\n          name=\"price\"\n          // noStyle\n          rules={[{ required: true, message: \"Price is required\" }]}\n        >\n          <Input type=\"number\" placeholder=\"Price $\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Categories\"\n          name=\"categories\"\n          // TODO:\n          // @ts-ignore\n          onChange={handleChange}\n          rules={[{ required: true, message: \"Category is required\" }]}\n        >\n          <Select\n            mode=\"multiple\"\n            placeholder=\"Select category\">\n            {categoriesAllWithoutRecycleBin?.map((category) =>\n              <Select.Option\n                defaultValue={edited_product.categories}\n                key={String(category?._id)}\n                value={String(category?._id)}\n              >{String(category?.name)}\n              </Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input value={values.images[index]} placeholder=\"image url\"\n                             style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Form.Item\n          label=\"Icon\"\n          name=\"icon\"\n          // noStyle\n        >\n          <Input onChange={handleChange} placeholder=\"icon url\" style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\ninterface StateProps {\n  isOpenEditProductModal: Boolean\n  edited_product?: Product | {}\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  isOpenEditProductModal: state.edit_product_modal.isOpen,\n  edited_product: state.edit_product.product\n})\n\nexport default connect<typeof ProductEditForm>(\n  // TODO:\n// @ts-ignore\n  mapStateToProps,\n  { setIsOpenEditProductModal, clearEditProduct }\n)(ProductEditForm)","import React from \"react\"\nimport { Button, Tooltip } from \"antd\"\nimport { PlusOutlined } from \"@ant-design/icons\"\nimport ProductAddForm from \"../ProductAddForm\"\nimport { connect } from \"react-redux\"\nimport { clearEditProduct, setIsOpenAddProductModal } from \"../../actions\"\nimport ProductsTable from \"../ProductsTable\"\nimport ProductEditForm from \"../ProductEditForm\"\n\ninterface PropsProducts {\n  clearEditProduct: () => void\n  setIsOpenAddProductModal: (isOpen: Boolean) => void\n}\n\nconst Products: React.FC<PropsProducts> = ({ setIsOpenAddProductModal, clearEditProduct }) => {\n\n  const onClickHandler = () => {\n    clearEditProduct()\n    setIsOpenAddProductModal(true)\n  }\n\n  return (\n    <>\n      <h1>Products</h1>\n      <ProductsTable/>\n      <ProductEditForm/>\n      <ProductAddForm/>\n      <Tooltip title=\"Add Product\">\n        <Button onClick={onClickHandler} type=\"dashed\" shape=\"circle\"\n                style={{ position: \"fixed\", bottom: \"50px\", right: \"50px\", color: \"#08c\" }}\n        ><PlusOutlined\n          style={{ fontSize: \"22px\", color: \"#08c\" }}\n        /></Button>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default connect<typeof Products>(null, { setIsOpenAddProductModal, clearEditProduct })(Products)","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CategoryByIdVariables = {\n  _id?: Types.Maybe<Types.Scalars['String']>;\n};\n\n\nexport type CategoryById = (\n  { __typename: 'Query' }\n  & { categoryById?: Types.Maybe<(\n    { __typename: 'Category' }\n    & Pick<Types.Category, '_id' | 'name' | 'icons' | 'images' | 'parent'>\n  )> }\n);\n\n\nexport const CategoryByIdDocument = gql`\n    query CategoryById($_id: String) {\n  categoryById(_id: $_id) {\n    _id\n    name\n    icons\n    images\n    parent\n  }\n}\n    `;\n\n/**\n * __useCategoryById__\n *\n * To run a query within a React component, call `useCategoryById` and pass it any options that fit your needs.\n * When your component renders, `useCategoryById` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCategoryById({\n *   variables: {\n *      _id: // value for '_id'\n *   },\n * });\n */\nexport function useCategoryById(baseOptions?: ApolloReactHooks.QueryHookOptions<CategoryById, CategoryByIdVariables>) {\n        return ApolloReactHooks.useQuery<CategoryById, CategoryByIdVariables>(CategoryByIdDocument, baseOptions);\n      }\nexport function useCategoryByIdLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CategoryById, CategoryByIdVariables>) {\n          return ApolloReactHooks.useLazyQuery<CategoryById, CategoryByIdVariables>(CategoryByIdDocument, baseOptions);\n        }\nexport type CategoryByIdHookResult = ReturnType<typeof useCategoryById>;\nexport type CategoryByIdLazyQueryHookResult = ReturnType<typeof useCategoryByIdLazyQuery>;\nexport type CategoryByIdQueryResult = ApolloReactCommon.QueryResult<CategoryById, CategoryByIdVariables>;","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type DeleteCascadeCategoryWithProductsByIdVariables = {\n  _id: Types.Scalars['String'];\n};\n\n\nexport type DeleteCascadeCategoryWithProductsById = (\n  { __typename: 'Mutation' }\n  & { deleteCascadeCategoryWithProductsById?: Types.Maybe<{ __typename: 'Category' }> }\n);\n\n\nexport const DeleteCascadeCategoryWithProductsByIdDocument = gql`\n    mutation DeleteCascadeCategoryWithProductsById($_id: String!) {\n  deleteCascadeCategoryWithProductsById(_id: $_id) {\n    __typename\n  }\n}\n    `;\nexport type DeleteCascadeCategoryWithProductsByIdMutationFn = ApolloReactCommon.MutationFunction<DeleteCascadeCategoryWithProductsById, DeleteCascadeCategoryWithProductsByIdVariables>;\n\n/**\n * __useDeleteCascadeCategoryWithProductsById__\n *\n * To run a mutation, you first call `useDeleteCascadeCategoryWithProductsById` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteCascadeCategoryWithProductsById` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteCascadeCategoryWithProductsById, { data, loading, error }] = useDeleteCascadeCategoryWithProductsById({\n *   variables: {\n *      _id: // value for '_id'\n *   },\n * });\n */\nexport function useDeleteCascadeCategoryWithProductsById(baseOptions?: ApolloReactHooks.MutationHookOptions<DeleteCascadeCategoryWithProductsById, DeleteCascadeCategoryWithProductsByIdVariables>) {\n        return ApolloReactHooks.useMutation<DeleteCascadeCategoryWithProductsById, DeleteCascadeCategoryWithProductsByIdVariables>(DeleteCascadeCategoryWithProductsByIdDocument, baseOptions);\n      }\nexport type DeleteCascadeCategoryWithProductsByIdHookResult = ReturnType<typeof useDeleteCascadeCategoryWithProductsById>;\nexport type DeleteCascadeCategoryWithProductsByIdMutationResult = ApolloReactCommon.MutationResult<DeleteCascadeCategoryWithProductsById>;\nexport type DeleteCascadeCategoryWithProductsByIdMutationOptions = ApolloReactCommon.BaseMutationOptions<DeleteCascadeCategoryWithProductsById, DeleteCascadeCategoryWithProductsByIdVariables>;","import React, { useState } from \"react\"\nimport { Button, Modal, Table, Tooltip, Tag } from \"antd\"\nimport { CategoriesAllDocument, useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { Category, Product } from \"../../__generated__/types\"\nimport { useDeleteCascadeCategoryWithProductsById } from \"../Categories/mutations/__generated__/DeleteCascadeCategoryWithProductsById\"\nimport DeleteOutlined from \"@ant-design/icons/lib/icons/DeleteOutlined\"\nimport { editCategory } from \"../../actions\"\nimport { setIsOpenEditCategoryModal } from \"../../actions\"\nimport { connect } from \"react-redux\"\n\nconst styleIconInTable = { width: \"20px\", height: \"100%\", marginRight: \"10px\" }\n\nexport interface PropsCategoryTable {\n  editCategory: (product: Product | undefined) => void\n  setIsOpenEditCategoryModal: (isOpen: Boolean | undefined) => void\n}\n\nconst CategoriesTable: React.FC<PropsCategoryTable> = ({ editCategory, setIsOpenEditCategoryModal }) => {\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [deleteCascadeCategoryWithProductsById] = useDeleteCascadeCategoryWithProductsById({\n      refetchQueries: [{\n        query: CategoriesAllDocument\n      }]\n    }\n  )\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState<Boolean>(false)\n  const [categoryDeleted, setCategoryDeleted] = useState<Category | any>({})\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n\n  // @ts-ignore\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category: Category) => {\n    return category._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n\n  const handleEdit = (_id: String): void => {\n    const cat = categoriesAllWithoutRecycleBin?.find((cat: Category) => cat._id === _id)\n    editCategory(cat)\n    setIsOpenEditCategoryModal(true)\n  }\n\n  const handleDelete = (_id: String): void => {\n    setIsVisualDeleteModal(true)\n    setCategoryDeleted(categoriesAllWithoutRecycleBin.find((cat: Category) => cat._id === _id))\n  }\n\n  const handleOk = (_id: String) => {\n    deleteCascadeCategoryWithProductsById({\n      variables: {\n        _id: String(_id)\n      }\n    }).then((mess: any) => console.log(\"deleteCascadeCategoryWithProductsById response:\", mess))\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"_id\",\n      key: \"_id\"\n    },\n    {\n      title: \"Parent\",\n      dataIndex: \"parent\",\n      key: \"parent\",\n      render: (parent: String) => {\n        return parent ?\n          <span>\n          <Tag color=\"green\" key={String(parent)}>{parent}</Tag>\n        </span> : null\n      }\n    },\n    {\n      title: \"Icons\",\n      dataIndex: \"icons\",\n      key: \"icons\",\n      render: (icons: String[]) => {\n        return (icons.length !== 0)\n          ? <div>\n            {\n              icons\n                .map(icon => <img\n                  key={String(icon)} alt=\"img\"\n                  src={String(icon)}\n                  style={styleIconInTable}/>\n                )\n            }\n          </div>\n          : <span>no icons</span>\n      }\n    },\n    {\n      title: \"Images\",\n      dataIndex: \"images\",\n      key: \"images\",\n      render: (icons: String[]) => {\n        return (icons.length !== 0)\n          ? <div>\n            {\n              icons\n                .map(image => <img\n                  key={String(image)} alt=\"img\"\n                  src={String(image)}\n                  style={styleIconInTable}/>\n                )\n            }\n          </div>\n          : <span>no images</span>\n      }\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"_id\",\n      key: \"_id\",\n      render: (_id: String) => <>\n        <Tooltip title=\"Edit this category\">\n          <Button onClick={() => handleEdit(_id)}\n                  type=\"dashed\">\n            Edit\n          </Button>\n        </Tooltip>\n        <Tooltip\n          title=\"Delete Category With All Products\">\n          <Button style={{ float: \"right\" }}\n                  onClick={() => handleDelete(String(_id))}\n                  type=\"dashed\"\n                  danger\n                  icon={<DeleteOutlined/>}>\n          </Button>\n        </Tooltip>\n      </>\n    }\n  ]\n\n  return (\n    <>\n      <Table dataSource={categoriesAllWithoutRecycleBin} columns={columns} rowKey=\"id\"/>\n      <Modal\n        title=\"Delete Category With All Products WITHOUT recovery!?\"\n        visible={Boolean(isVisualDeleteModal)}\n        onOk={() => handleOk(categoryDeleted._id)}\n        onCancel={handleCancel}\n      >\n        <p>{categoryDeleted.name}</p>\n      </Modal>\n    </>\n  )\n}\n\nexport default connect<typeof CategoriesTable>(null, {\n  editCategory, setIsOpenEditCategoryModal\n})(CategoriesTable)","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type AddCategoryVariables = {\n  _id: Types.Scalars['String'];\n  name: Types.Scalars['String'];\n  images?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  icons?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  parent?: Types.Maybe<Types.Scalars['String']>;\n};\n\n\nexport type AddCategory = (\n  { __typename: 'Mutation' }\n  & { addCategory?: Types.Maybe<(\n    { __typename: 'Category' }\n    & Pick<Types.Category, '_id' | 'name' | 'images' | 'icons' | 'parent'>\n  )> }\n);\n\n\nexport const AddCategoryDocument = gql`\n    mutation AddCategory($_id: String!, $name: String!, $images: [String], $icons: [String], $parent: String) {\n  addCategory(_id: $_id, name: $name, images: $images, icons: $icons, parent: $parent) {\n    _id\n    name\n    images\n    icons\n    parent\n  }\n}\n    `;\nexport type AddCategoryMutationFn = ApolloReactCommon.MutationFunction<AddCategory, AddCategoryVariables>;\n\n/**\n * __useAddCategory__\n *\n * To run a mutation, you first call `useAddCategory` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddCategory` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addCategory, { data, loading, error }] = useAddCategory({\n *   variables: {\n *      _id: // value for '_id'\n *      name: // value for 'name'\n *      images: // value for 'images'\n *      icons: // value for 'icons'\n *      parent: // value for 'parent'\n *   },\n * });\n */\nexport function useAddCategory(baseOptions?: ApolloReactHooks.MutationHookOptions<AddCategory, AddCategoryVariables>) {\n        return ApolloReactHooks.useMutation<AddCategory, AddCategoryVariables>(AddCategoryDocument, baseOptions);\n      }\nexport type AddCategoryHookResult = ReturnType<typeof useAddCategory>;\nexport type AddCategoryMutationResult = ApolloReactCommon.MutationResult<AddCategory>;\nexport type AddCategoryMutationOptions = ApolloReactCommon.BaseMutationOptions<AddCategory, AddCategoryVariables>;","import React, { useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Modal, Form, Input, Button, Select } from \"antd\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport { setIsOpenAddCategoryModal } from \"../../actions\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { RootState } from \"../../reducer\"\nimport { ICategoriesAll } from \"../Categories/types\"\nimport { useAddCategory } from \"../Categories/mutations/__generated__/AddCategory\"\nimport {\n  CategoriesAllDocument, useCategoriesAll\n} from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { Category } from \"../../__generated__/types\"\n\ntype PropsCategoryAddForm = {\n  setIsOpenAddCategoryModal: (isOpen: Boolean) => void\n  isOpenAddCategoryModal: Boolean\n}\n\nconst CategoryAddForm: React.FC<PropsCategoryAddForm> = (\n  {\n    setIsOpenAddCategoryModal,\n    isOpenAddCategoryModal\n  }) => {\n  const [addCategory] = useAddCategory(\n    {\n      // TODO:\n      // @ts-ignore\n      update(cache, { data: { addCategory } }) {\n        const { categoriesAll } = cache.readQuery<ICategoriesAll>({ query: CategoriesAllDocument })!.categoriesAll\n        cache.writeQuery({\n          query: CategoriesAllDocument,\n          data: { categoriesAll: categoriesAll?.concat([addCategory]) }\n        })\n      },\n      refetchQueries: [{\n        query: CategoriesAllDocument\n      }]\n    }\n  )\n\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [values, setValues] = useState<Category | any>({})\n\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n\n  // @ts-ignore\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category: Category) => {\n    return category._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n\n  const onFinish = (valuefromformlist: Category) => {\n    const { _id, icons, images, name } = values\n    // const _id = String(values._id)\n    // const name = String(valuefromformlist.name)\n    console.log(\"++++++++++++\",\n      valuefromformlist\n    )\n    console.log(\"+++V+++V++++++\",\n      values\n    )\n\n    addCategory({\n      variables: {\n        _id,\n        name,\n        icons,\n        images,\n        parent: valuefromformlist.parent\n      }\n    }).then(m => console.log(\"addCategoryMESSAGE:\", m))\n      .catch(e => console.log(\"addCategoryERROR:\", e))\n\n    setIsOpenAddCategoryModal(false)\n  }\n  const handleCancel = () => {\n    setIsOpenAddCategoryModal(false)\n  }\n\n  const handleChange = (e: { target: HTMLInputElement }) => {\n    const { name, value } = e.target\n    console.log(\"target\", e.target)\n    setValues({ ...values, [name]: value })\n  }\n\n  return (\n    <Modal\n      title=\"Category information\"\n      visible={Boolean(isOpenAddCategoryModal)}\n      footer={false}\n      onCancel={handleCancel}\n    >\n      <Form\n        name=\"category\" {...formItemLayoutWithOutLabel}\n        // @ts-ignore\n        onFinish={onFinish}>\n\n        <Form.Item\n          label=\"ID category\"\n          rules={[{ required: true, message: \"ID category is required\" }]}\n        >\n          <Input\n            name=\"_id\"\n            onChange={handleChange} placeholder=\"name category\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Name category\"\n          rules={[{ required: true, message: \"Name category is required\" }]}\n        >\n          <Input\n            name=\"name\"\n            onChange={handleChange} placeholder=\"name category\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Parent category\"\n          name=\"parent\"\n          // TODO:\n          // @ts-ignore\n          onChange={handleChange}\n        >\n          <Select\n            placeholder=\"Select category\">\n            {categoriesAllWithoutRecycleBin?.map((category: Category) =>\n              <Select.Option\n                key={String(category._id)}\n                value={String(category._id)}\n              >{category._id}\n              </Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"icons\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"icons\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input icon url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input\n                        style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n\n                    {(fields.length >= 1) ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add icon url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input\n                        style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n\n                    {(fields.length >= 1) ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\ninterface StateProps {\n  isOpenAddCategoryModal: Boolean\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  isOpenAddCategoryModal: state.add_cat_modal.isOpen\n})\n\nexport default connect<typeof CategoryAddForm>(\n  // TODO:\n// @ts-ignore\n  mapStateToProps,\n  { setIsOpenAddCategoryModal }\n)(CategoryAddForm)","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type UpdateCategoryVariables = {\n  _id: Types.Scalars['String'];\n  name: Types.Scalars['String'];\n  images?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  icons?: Types.Maybe<Array<Types.Maybe<Types.Scalars['String']>>>;\n  parent?: Types.Maybe<Types.Scalars['String']>;\n};\n\n\nexport type UpdateCategory = (\n  { __typename: 'Mutation' }\n  & { updateCategory?: Types.Maybe<(\n    { __typename: 'Category' }\n    & Pick<Types.Category, '_id' | 'name' | 'images' | 'icons' | 'parent'>\n  )> }\n);\n\n\nexport const UpdateCategoryDocument = gql`\n    mutation UpdateCategory($_id: String!, $name: String!, $images: [String], $icons: [String], $parent: String) {\n  updateCategory(_id: $_id, name: $name, images: $images, icons: $icons, parent: $parent) {\n    _id\n    name\n    images\n    icons\n    parent\n  }\n}\n    `;\nexport type UpdateCategoryMutationFn = ApolloReactCommon.MutationFunction<UpdateCategory, UpdateCategoryVariables>;\n\n/**\n * __useUpdateCategory__\n *\n * To run a mutation, you first call `useUpdateCategory` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdateCategory` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updateCategory, { data, loading, error }] = useUpdateCategory({\n *   variables: {\n *      _id: // value for '_id'\n *      name: // value for 'name'\n *      images: // value for 'images'\n *      icons: // value for 'icons'\n *      parent: // value for 'parent'\n *   },\n * });\n */\nexport function useUpdateCategory(baseOptions?: ApolloReactHooks.MutationHookOptions<UpdateCategory, UpdateCategoryVariables>) {\n        return ApolloReactHooks.useMutation<UpdateCategory, UpdateCategoryVariables>(UpdateCategoryDocument, baseOptions);\n      }\nexport type UpdateCategoryHookResult = ReturnType<typeof useUpdateCategory>;\nexport type UpdateCategoryMutationResult = ApolloReactCommon.MutationResult<UpdateCategory>;\nexport type UpdateCategoryMutationOptions = ApolloReactCommon.BaseMutationOptions<UpdateCategory, UpdateCategoryVariables>;","import React, { useEffect, useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { RootState } from \"../../reducer\"\nimport { clearEditCategory, setIsOpenEditCategoryModal } from \"../../actions\"\nimport { Button, Form, Input, Modal, Select } from \"antd\"\nimport { useUpdateCategory } from \"../Categories/mutations/__generated__/UpdateCategory\"\nimport MinusCircleOutlined from \"@ant-design/icons/lib/icons/MinusCircleOutlined\"\nimport PlusOutlined from \"@ant-design/icons/lib/icons/PlusOutlined\"\nimport { Category } from \"../../__generated__/types\"\nimport { CategoriesAllDocument, useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { ProductsAllDocument } from \"../Products/queries/__generated__/ProductsAll\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\n\ntype PropsCategoryEditForm = {\n  setIsOpenEditCategoryModal: (isOpen: Boolean) => void\n  isOpenEditCategoryModal: Boolean\n  edited_category: Category\n}\nconst CategoryEditForm: React.FC<PropsCategoryEditForm> = ({ edited_category, setIsOpenEditCategoryModal, isOpenEditCategoryModal }) => {\n  const [formEditCategory] = Form.useForm()\n  const [updateCategory] = useUpdateCategory({\n    refetchQueries: [\n      {\n        query: CategoriesAllDocument\n      },\n      {\n        query: ProductsAllDocument\n      }\n    ]\n  })\n  const [values, setValues] = useState<Category | any>({})\n  useEffect(() => {\n    setValues(edited_category)\n  }, [edited_category])\n  useEffect(() => {\n    formEditCategory.setFieldsValue({\n      \"name\": edited_category.name,\n      \"icons\": edited_category.icons,\n      \"images\": edited_category.images,\n      \"parent\": edited_category.parent,\n      \"_id\": edited_category._id,\n    })\n    return () => {\n      formEditCategory.resetFields()\n    }\n  }, [edited_category, formEditCategory])\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n\n  // @ts-ignore\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category: Category) => {\n    return category._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n\n  const onFinish = (valuefromformlist: Category) => {\n    const { name, images, icons, parent } = valuefromformlist\n    const _id = String(values?._id)\n\n    updateCategory({\n      variables: {\n        _id, name, images, icons, parent\n      }\n    }).then(m => console.log(\"updateProductMESSAGE:\", m))\n      .catch(e => console.log(\"updateProductERROR:\", e))\n\n    setIsOpenEditCategoryModal(false)\n  }\n  const handleCancel = () => {\n    setIsOpenEditCategoryModal(false)\n    // clearEditCategory()\n  }\n  const handleChange = (e: { target: HTMLInputElement }) => {\n    const { name, value } = e.target\n    setValues({ ...values, [name]: value })\n  }\n\n  return (\n    <Modal\n      title={`Category information id: ${values._id}`}\n      visible={Boolean(isOpenEditCategoryModal)}\n      footer={false}\n      onCancel={handleCancel}\n    >\n      <Form\n        form={formEditCategory}\n        name=\"category\" {...formItemLayoutWithOutLabel}\n        // TODO:\n        // @ts-ignore\n        onFinish={onFinish}>\n\n        <Form.Item\n          label=\"ID category\"\n          name=\"_id\"\n          // TODO:\n          // @ts-ignore\n          value={String(values?._id)}\n          rules={[{ required: true, message: \"Name category is required\" }]}\n        >\n          <Input\n            onChange={handleChange} placeholder=\"name category\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Name category\"\n          name=\"name\"\n          // TODO:\n          // @ts-ignore\n          value={String(values?.name)}\n          rules={[{ required: true, message: \"Name category is required\" }]}\n        >\n          <Input\n            onChange={handleChange} placeholder=\"name category\"\n            style={{ width: \"100%\", marginRight: 8 }}/>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Parent category\"\n          name=\"parent\"\n          // TODO:\n          // @ts-ignore\n          onChange={handleChange}\n        >\n          <Select\n            defaultValue={values._id}\n            placeholder=\"Select category\">\n            {categoriesAllWithoutRecycleBin?.map((category: Category) =>\n              <Select.Option\n                key={String(category._id)}\n                value={String(category._id)}\n              >{category._id}\n              </Select.Option>\n            )\n            }\n          </Select>\n        </Form.Item>\n\n        <Form.List name=\"icons\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"icons\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input icons url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input value={values.icons[index]} placeholder=\"icon url\"\n                             style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add icon url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Form.List name=\"images\">\n          {(fields, { add, remove }) => {\n            return (\n              <div>\n                {fields.map((field, index) => (\n                  <Form.Item\n                    {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n                    label={index === 0 ? \"Images\" : \"\"}\n                    required={false}\n                    key={field.key}\n                  >\n                    <Form.Item\n                      {...field}\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\n                      rules={[\n                        {\n                          required: true,\n                          whitespace: true,\n                          message: \"Please input image url or delete this field.\"\n                        }\n                      ]}\n                      noStyle\n                    >\n                      <Input value={values.images[index]} placeholder=\"image url\"\n                             style={{ width: \"90%\", marginRight: 8 }}/>\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <MinusCircleOutlined\n                        className=\"dynamic-delete-button\"\n                        onClick={() => {\n                          remove(field.name)\n                        }}\n                      />\n                    ) : <span/>}\n                  </Form.Item>\n                ))}\n                <Form.Item>\n                  <Button\n                    type=\"dashed\"\n                    onClick={() => {\n                      add()\n                    }}\n                    style={{ width: \"80%\" }}\n                  >\n                    <PlusOutlined/> Add image url\n                  </Button>\n                </Form.Item>\n              </div>\n            )\n          }}\n        </Form.List>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </Modal>\n  )\n}\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 20 }\n  }\n}\n\nconst formItemLayoutWithOutLabel = {\n  wrapperCol: {\n    xs: { span: 24, offset: 0 },\n    sm: { span: 20, offset: 4 }\n  }\n}\n\ninterface StateProps {\n  isOpenEditCategoryModal: Boolean\n  edited_category?: Category | {}\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  isOpenEditCategoryModal: state.edit_cat_modal.isOpen,\n  edited_category: state.edit_category.category\n})\n\nexport default connect<typeof CategoryEditForm>(\n  // TODO:\n// @ts-ignore\n  mapStateToProps,\n  { setIsOpenEditCategoryModal, clearEditCategory }\n)(CategoryEditForm)","import React from \"react\"\nimport { Button, Tooltip } from \"antd\"\nimport { PlusOutlined } from \"@ant-design/icons\"\nimport { connect } from \"react-redux\"\nimport { setIsOpenAddCategoryModal } from \"../../actions\"\nimport CategoriesTable from \"../CategoriesTable\"\nimport CategoryAddForm from \"../CategoryAddForm\"\nimport CategoryEditForm from \"../CategoryEditForm\"\n\nexport interface PropsCategories {\n  setIsOpenAddCategoryModal: (isOpen: Boolean) => void\n}\n\nconst Categories: React.FC<PropsCategories> = ({ setIsOpenAddCategoryModal }) => {\n  const onClickHandler = () => {\n    setIsOpenAddCategoryModal(true)\n  }\n\n  return (\n    <>\n      <h1>Categories</h1>\n      <CategoriesTable/>\n      <CategoryEditForm/>\n      <CategoryAddForm/>\n      <Tooltip title=\"Add Category\">\n        <Button\n          onClick={onClickHandler}\n          type=\"dashed\" shape=\"circle\"\n          style={{ position: \"fixed\", bottom: \"50px\", right: \"50px\", color: \"#08c\" }}\n        ><PlusOutlined\n          style={{ fontSize: \"22px\", color: \"#08c\" }}\n        /></Button>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default connect<typeof Categories>(null, { setIsOpenAddCategoryModal })(Categories)","import React from \"react\"\nimport { CategoryRequireIcons } from \"../../actions/types\"\nimport { Product } from \"../../__generated__/types\"\n\ninterface PropsRecycleBinIcon {\n  categoryById: CategoryRequireIcons\n  productsByCategoryId: Product[]\n}\n\nconst RecycleBinIcon: React.FC<PropsRecycleBinIcon> = ({ categoryById, productsByCategoryId }): any => {\n  if (productsByCategoryId.length === 0) {\n    return <img src={String(categoryById.icons[0])} width={15} alt=\"recycle bin\"/>\n  } else if (productsByCategoryId.length > 0) {\n    return <img src={String(categoryById.icons[3])} width={15} alt=\"recycle bin\"/>\n  }\n}\n\nexport default RecycleBinIcon","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type DeleteProductVariables = {\n  id: Types.Scalars['ID'];\n};\n\n\nexport type DeleteProduct = (\n  { __typename: 'Mutation' }\n  & { deleteProduct?: Types.Maybe<(\n    { __typename: 'Product' }\n    & Pick<Types.Product, 'id' | 'name' | 'price' | 'images' | 'icon' | 'categories'>\n  )> }\n);\n\n\nexport const DeleteProductDocument = gql`\n    mutation DeleteProduct($id: ID!) {\n  deleteProduct(id: $id) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    `;\nexport type DeleteProductMutationFn = ApolloReactCommon.MutationFunction<DeleteProduct, DeleteProductVariables>;\n\n/**\n * __useDeleteProduct__\n *\n * To run a mutation, you first call `useDeleteProduct` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteProduct` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteProduct, { data, loading, error }] = useDeleteProduct({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeleteProduct(baseOptions?: ApolloReactHooks.MutationHookOptions<DeleteProduct, DeleteProductVariables>) {\n        return ApolloReactHooks.useMutation<DeleteProduct, DeleteProductVariables>(DeleteProductDocument, baseOptions);\n      }\nexport type DeleteProductHookResult = ReturnType<typeof useDeleteProduct>;\nexport type DeleteProductMutationResult = ApolloReactCommon.MutationResult<DeleteProduct>;\nexport type DeleteProductMutationOptions = ApolloReactCommon.BaseMutationOptions<DeleteProduct, DeleteProductVariables>;","import React, { useState } from \"react\"\nimport { Button, Form, Modal, Select, Table, Tag, Tooltip } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { clearEditProduct, editProduct } from \"../../actions\"\nimport { priceToDollars } from \"../../utils/utils\"\nimport { PropsUpdateProduct } from \"../Products/types\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { RootState } from \"../../reducer\"\nimport {\n  ProductsByCategoryIdDocument,\n  useProductsByCategoryId\n} from \"../Products/queries/__generated__/ProductsByCategoryId\"\nimport { useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { useDeleteProduct } from \"../Products/mutations/__generated__/DeleteProduct\"\nimport { useUpdateProduct } from \"../Products/mutations/__generated__/UpdateProduct\"\nimport { Product } from \"../../__generated__/types\"\n\nconst styleImagesInTable = { width: \"50px\", height: \"100%\", marginRight: \"10px\" }\n\ninterface PropsRecycleBinProductsTable {\n  clearEditProduct: () => void\n  editProduct: (product: Product) => void\n  edited_product: Product\n}\n\nconst RecycleBinProductsTable: React.FC<PropsRecycleBinProductsTable> = (\n  {\n    clearEditProduct,\n    editProduct,\n    edited_product\n  }) => {\n  const { loading: recycle_bin_prod_loading, error: recycle_bin_prod_error, data: recycle_bin_prod_data } = useProductsByCategoryId(\n    {\n      variables: {\n        id: REACT_APP_RECYCLE_BIN_ID\n      }\n    })\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const [values, setValues] = useState({})\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState(false)\n  const [isVisualRestoreModal, setIsVisualRestoreModal] = useState(false)\n  const [productDeleted, setProductDeleted] = useState<Product | any>({})\n  const [deleteProduct] = useDeleteProduct({\n      refetchQueries: [{\n        query: ProductsByCategoryIdDocument,\n        variables: {\n          id: REACT_APP_RECYCLE_BIN_ID\n        }\n      }]\n    }\n  )\n  const [updateProduct] = useUpdateProduct({\n      refetchQueries: [{\n        query: ProductsByCategoryIdDocument,\n        variables: {\n          id: REACT_APP_RECYCLE_BIN_ID\n        }\n      }]\n    }\n  )\n  if (cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || !cat_data) {\n    return (<div>Error...</div>)\n  }\n  const { categoriesAll } = cat_data\n\n  const categoriesAllWithoutRecycleBin = categoriesAll?.filter((category) => {\n    return category?._id !== REACT_APP_RECYCLE_BIN_ID\n  })\n  console.log(\"productDeleted\", productDeleted)\n\n  if (recycle_bin_prod_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (recycle_bin_prod_error || !recycle_bin_prod_data) {\n    return (<div>Error...</div>)\n  }\n  const { productsByCategoryId } = recycle_bin_prod_data\n\n  console.log(\"productsByCategoryId\", recycle_bin_prod_data?.productsByCategoryId)\n\n  const onFinish = (valuefromform: any) => {\n    const productWithoutRecycleBin = {\n      ...edited_product,\n      categories: [valuefromform?.category]\n    }\n\n    const { name, images, price, categories, icon } = productWithoutRecycleBin\n    // TODO:\n    // @ts-ignore\n    const id = String(edited_product.id)\n\n    console.log(\"onFinish\", edited_product)\n    // TODO:\n    // @ts-ignore\n    updateProduct<PropsUpdateProduct>({\n      variables: {\n        id, name, price, categories, images, icon\n      }\n    }).then((m: String) => {\n        console.log(\"updateProductMESSAGE:\", m)\n      }\n    )\n      .catch((e: Error) => console.log(\"updateProductERROR:\", e))\n\n    setIsVisualRestoreModal(false)\n  }\n  const handleEdit = (id: String) => {\n    // TODO:\n    // @ts-ignore\n    const edit_product = productsByCategoryId?.find((prod: Product) => prod.id === id)\n    if (edit_product.categories.length === 1) {\n      editProduct(edit_product)\n      setIsVisualRestoreModal(true)\n    } else {\n      const categoriesWithoutRecyclebin = edit_product.categories.filter((category: String) => {\n        return category !== REACT_APP_RECYCLE_BIN_ID\n      })\n      const productWithoutRecycleBin = {\n        ...edit_product,\n        categories: [...categoriesWithoutRecyclebin]\n      }\n      const {\n        id, name, price, categories, images, icon\n      } = productWithoutRecycleBin\n      console.log(\"productWithoutRecycleBin\", productWithoutRecycleBin)\n      // TODO:\n      // @ts-ignore\n      updateProduct<PropsUpdateProduct>({\n        variables: {\n          id, name, price, categories, images, icon\n        }\n      }).then((m: String) => {\n          console.log(\"updateProductMESSAGE:\", m)\n        }\n      )\n        .catch((e: Error) => console.log(\"updateProductERROR:\", e))\n    }\n  }\n  const handleCancelRestore = () => {\n    clearEditProduct()\n    setIsVisualRestoreModal(false)\n  }\n\n  const handleDelete = (id: String) => {\n    setIsVisualDeleteModal(true)\n    // TODO:\n    // @ts-ignore\n    setProductDeleted(productsByCategoryId?.find((prod: Product) => prod.id === id))\n  }\n\n  const handleOk = (id: String) => {\n    console.log(\"productDeleted.id\", productDeleted.id)\n    deleteProduct({\n      variables: {\n        id: String(id)\n      }\n    }).then(mess => console.log(\"deleteProduct response:\", mess))\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setValues({ ...values, [name]: value })\n  }\n  const columns = [\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\"\n    },\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\",\n      render: (price: Number) => {\n        return priceToDollars(price)\n      }\n    },\n    {\n      title: \"Categories\",\n      dataIndex: \"categories\",\n      key: \"categories\",\n      render: (categories: String[]) => (\n        <span>\n          {categories.map(tag => (\n            tag !== REACT_APP_RECYCLE_BIN_ID ?\n              <Tag color=\"blue\" key={String(tag)}>\n                {tag}\n              </Tag>\n              :\n              <Tag color=\"red\" key={String(tag)}>\n                {tag}\n              </Tag>\n          ))}\n        </span>\n      )\n    },\n    {\n      title: \"Images\",\n      dataIndex: \"images\",\n      key: \"images\",\n      render: (images: String[]) => {\n        return (images)\n          ? <div>\n            {\n              images\n                .map(image => <img\n                  key={String(image)}\n                  alt=\"img\"\n                  src={String(image)}\n                  style={styleImagesInTable}/>\n                )\n            }\n          </div>\n          : <span>no images</span>\n      }\n    },\n    {\n      title: \"Actions\",\n      dataIndex: \"id\",\n      key: \"id\",\n      render: (id: String) => <>\n        <Tooltip title=\"Recovery this product in any category\">\n          <Button onClick={() => handleEdit(id)} type=\"dashed\">\n            Recovery in category\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Delete forever\">\n          <Button onClick={() => handleDelete(id)} type=\"dashed\" danger>\n            Delete\n          </Button>\n        </Tooltip>\n      </>\n    }\n  ]\n\n  return (\n    <>\n      <Table\n        // TODO:\n        // @ts-ignore\n        dataSource={productsByCategoryId} columns={columns} rowKey=\"id\"/>\n      <Modal\n        title=\"Delete product?\"\n        visible={isVisualDeleteModal}\n        onOk={() => handleOk(productDeleted.id)}\n        onCancel={handleCancel}\n      >\n        <p>{productDeleted.name}</p>\n      </Modal>\n\n      <Modal\n        footer={false}\n        title=\"Restore in category?\"\n        visible={isVisualRestoreModal}\n        onCancel={handleCancelRestore}\n      >\n        <Form\n          name=\"restore\"\n          // TODO:\n          // @ts-ignore\n          onFinish={onFinish}>\n          <Form.Item\n            label=\"Category\"\n            name=\"category\"\n            // TODO:\n            // @ts-ignore\n            onChange={handleChange}\n            rules={[{ required: true, message: \"Category is required\" }]}\n          >\n            <Select\n              placeholder=\"Select category\">\n              {categoriesAllWithoutRecycleBin?.map((category) =>\n                <Select.Option\n                  // TODO:\n                  // @ts-ignore\n                  key={category?._id}\n                >{category?.name}</Select.Option>\n              )\n              }\n            </Select>\n          </Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Restore\n          </Button>\n        </Form>\n      </Modal>\n    </>\n  )\n}\n\ninterface StateProps {\n  edited_product?: Product | {}\n}\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  edited_product: state.edit_product.product\n})\n\nexport default connect<typeof RecycleBinProductsTable>(\n  // TODO:\n// @ts-ignore\n  mapStateToProps,\n  { editProduct, clearEditProduct }\n)(RecycleBinProductsTable)","import * as Types from '../../../../__generated__/types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type ClearRecycleBinVariables = {};\n\n\nexport type ClearRecycleBin = (\n  { __typename: 'Mutation' }\n  & { clearRecycleBin?: Types.Maybe<{ __typename: 'Product' }> }\n);\n\n\nexport const ClearRecycleBinDocument = gql`\n    mutation ClearRecycleBin {\n  clearRecycleBin {\n    __typename\n  }\n}\n    `;\nexport type ClearRecycleBinMutationFn = ApolloReactCommon.MutationFunction<ClearRecycleBin, ClearRecycleBinVariables>;\n\n/**\n * __useClearRecycleBin__\n *\n * To run a mutation, you first call `useClearRecycleBin` within a React component and pass it any options that fit your needs.\n * When your component renders, `useClearRecycleBin` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [clearRecycleBin, { data, loading, error }] = useClearRecycleBin({\n *   variables: {\n *   },\n * });\n */\nexport function useClearRecycleBin(baseOptions?: ApolloReactHooks.MutationHookOptions<ClearRecycleBin, ClearRecycleBinVariables>) {\n        return ApolloReactHooks.useMutation<ClearRecycleBin, ClearRecycleBinVariables>(ClearRecycleBinDocument, baseOptions);\n      }\nexport type ClearRecycleBinHookResult = ReturnType<typeof useClearRecycleBin>;\nexport type ClearRecycleBinMutationResult = ApolloReactCommon.MutationResult<ClearRecycleBin>;\nexport type ClearRecycleBinMutationOptions = ApolloReactCommon.BaseMutationOptions<ClearRecycleBin, ClearRecycleBinVariables>;","import React, { useState } from \"react\"\nimport RecycleBinProductsTable from \"../RecycleBinProductsTable\"\nimport { Button, Modal, Tooltip } from \"antd\"\nimport { DeleteOutlined } from \"@ant-design/icons\"\nimport { useClearRecycleBin } from \"../Products/mutations/__generated__/ClearRecycleBin\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { ProductsByCategoryIdDocument } from \"../Products/queries/__generated__/ProductsByCategoryId\"\n\nconst RecycleBin = () => {\n  const [isVisualDeleteModal, setIsVisualDeleteModal] = useState<Boolean>(false)\n  const [clearRecycleBin] = useClearRecycleBin(\n    {\n      refetchQueries: [{\n        query: ProductsByCategoryIdDocument,\n        variables: {\n          id: REACT_APP_RECYCLE_BIN_ID\n        }\n      }]\n    }\n  )\n\n  const handleDelete = () => {\n    setIsVisualDeleteModal(true)\n  }\n\n  const handleOk = () => {\n    clearRecycleBin().then()\n    setIsVisualDeleteModal(false)\n  }\n\n  const handleCancel = () => {\n    setIsVisualDeleteModal(false)\n  }\n\n  return (\n    <>\n      <h1 style={{ display: \"inline-block\" }}>Recycle bin</h1>\n      <Tooltip title=\"Delete all products from recycle bin forever\">\n        <Button style={{ float: \"right\" }} onClick={handleDelete} type=\"dashed\" danger icon={<DeleteOutlined/>}>\n          Clear recycle bin\n        </Button>\n      </Tooltip>\n      <Modal\n        title=\"Clear recycle bin?\"\n        visible={Boolean(isVisualDeleteModal)}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <DeleteOutlined/>...\n      </Modal>\n      <RecycleBinProductsTable/>\n    </>\n  )\n}\n\nexport default RecycleBin","import React from \"react\"\nimport { Empty, Tabs } from \"antd\"\nimport Products from \"../Products\"\nimport { useProductsAll } from \"../Products/queries/__generated__/ProductsAll\"\nimport { useCategoriesAll } from \"../Categories/queries/__generated__/CategoriesAll\"\nimport { useProductsByCategoryId } from \"../Products/queries/__generated__/ProductsByCategoryId\"\nimport { REACT_APP_RECYCLE_BIN_ID } from \"../../actions/types\"\nimport { useCategoryById } from \"../Categories/queries/__generated__/CategoryById\"\nimport Categories from \"../Categories\"\nimport RecycleBinIcon from \"../RecycleBinIcon\"\nimport RecycleBin from \"../RecycleBin\"\nimport { Category, Product } from \"../../__generated__/types\"\nimport { connect } from \"react-redux\"\nimport { categoriesList } from \"../../actions\"\n\nconst { TabPane } = Tabs\n\nfunction callback(key: any) {\n  console.log(key)\n}\ninterface Props {\n  categoriesList: (categories: String[] | undefined) => void\n}\nconst TabsContainer: React.FC<Props> = ({categoriesList}) => {\n  const { loading: cat_loading, error: cat_error, data: cat_data } = useCategoriesAll()\n  const { loading: prod_loading, error: prod_error, data: prod_data } = useProductsAll()\n  const { loading: recycle_bin_prod_loading, error: recycle_bin_prod_error, data: recycle_bin_prod_data } = useProductsByCategoryId({\n    variables: {\n      id: REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n  const { loading: recycle_bin_cat_loading, error: recycle_bin_cat_error, data: recycle_bin_cat_data } = useCategoryById({\n    variables: {\n      _id: REACT_APP_RECYCLE_BIN_ID\n    }\n  })\n  if (cat_loading || prod_loading || recycle_bin_prod_loading || recycle_bin_cat_loading) {\n    return (<div>Loading...</div>)\n  }\n  if (cat_error || prod_error || recycle_bin_prod_error || recycle_bin_cat_error || !cat_data || !prod_data || !recycle_bin_prod_data || !recycle_bin_cat_data) {\n    return (<div>Error.</div>)\n  }\n\n  const { productsByCategoryId } = recycle_bin_prod_data\n  const { categoryById } = recycle_bin_cat_data\n  const { categoriesAll } = cat_data\n  // @ts-ignore\n  const categoriesAllWithoutRecycleBin = categoriesAll?.map((category: Category) => {\n    if (category._id !== REACT_APP_RECYCLE_BIN_ID) {\n      return category.name\n    }\n  }).filter(Boolean)\n\n  categoriesList(categoriesAllWithoutRecycleBin)\n\n  return (\n    <Tabs defaultActiveKey=\"1\" onChange={callback}>\n      <Tabs.TabPane tab=\"Products\" key=\"1\">\n        <Products/>\n      </Tabs.TabPane>\n      <TabPane tab=\"Categories\" key=\"2\">\n        <Categories/>\n      </TabPane>\n      <TabPane tab={\n        <span>\n          <RecycleBinIcon\n            // TODO:\n            // @ts-ignore\n            categoryById={categoryById} productsByCategoryId={productsByCategoryId}/>\n          Recycle bin\n        </span>\n      } key=\"3\">\n        {(productsByCategoryId?.length === 0) ? <Empty/> : <RecycleBin/>}\n      </TabPane>\n\n    </Tabs>\n  )\n}\n\nexport default connect<typeof TabsContainer>(null, { categoriesList })(TabsContainer)","import React from \"react\"\nimport TabsContainer from \"./components/TabsContainer\"\nimport \"antd/dist/antd.css\"\nimport \"./App.css\"\nimport {REACT_APP_BASE_URL} from \"./actions/types\"\n\nconst App: React.FC = () => {\n  console.log(\"app.tsx\")\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p>\n          <code>APP</code>\n        </p>\n        <a\n          className=\"App-link\"\n          href={REACT_APP_BASE_URL}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          BASE_URL\n        </a>\n      </header>\n      <TabsContainer/>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import ApolloClient from \"apollo-boost\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\n\nconst cache = new InMemoryCache();\n\nexport const client = new ApolloClient({\n  cache,\n  uri: process.env.REACT_APP_BASE_URL,\n})\n","import { ActionsTypes } from \"../store\"\nimport { IS_OPEN_EDIT_PRODUCT_MODAL } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  isOpen: false\n}\n\n\nexport default (state: initialState  = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case IS_OPEN_EDIT_PRODUCT_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { IS_OPEN_ADD_PRODUCT_MODAL } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  isOpen: false\n}\n\nexport default (state: initialState  = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case IS_OPEN_ADD_PRODUCT_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { IS_OPEN_EDIT_CATEGORY_MODAL } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  isOpen: false\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case IS_OPEN_EDIT_CATEGORY_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { IS_OPEN_ADD_CATEGORY_MODAL } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  isOpen: false\n}\n\nexport default (state: initialState  = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case IS_OPEN_ADD_CATEGORY_MODAL:\n      return {\n        ...state,\n        isOpen: action.payload\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { CLEAR_EDIT_PRODUCT, EDIT_PRODUCT } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  product: {}\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case EDIT_PRODUCT:\n      return {\n        ...state,\n        product: action.payload\n      }\n    case CLEAR_EDIT_PRODUCT:\n      return {\n        ...initialState\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { CLEAR_EDIT_CATEGORY, EDIT_CATEGORY } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  category: {}\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case EDIT_CATEGORY:\n      return {\n        ...state,\n        category: action.payload\n      }\n    case CLEAR_EDIT_CATEGORY:\n      return {\n        ...initialState\n      }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { CATEGORIES_LIST } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  categories: []\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case CATEGORIES_LIST:\n      // @ts-ignore\n      return { categories: [...action.payload] }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { SEARCH_CATEGORIES_LIST } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  searchCategories: []\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case SEARCH_CATEGORIES_LIST:\n      // @ts-ignore\n      return { searchCategories: [...action.payload] }\n    default:\n      return state\n  }\n}","import { ActionsTypes } from \"../store\"\nimport { SEARCH_NAME } from \"../actions/types\"\n\nexport type initialState = typeof initialState\nconst initialState = {\n  searchName: \"\"\n}\n\nexport default (state: initialState = initialState, action: ActionsTypes): initialState => {\n  switch (action.type) {\n    case SEARCH_NAME:\n      return {\n        ...state,\n      // @ts-ignore\n        searchName: action.payload\n      }\n    default:\n      return state\n  }\n}","import { combineReducers } from \"redux\"\nimport edit_product_modal from \"./edit-prod-modal\"\nimport add_product_modal from \"./add-prod-modal\"\nimport edit_cat_modal from \"./edit-cat-modal\"\nimport add_cat_modal from \"./add-cat-modal\"\nimport edit_product from \"./edit-product\"\nimport edit_category from \"./edit-category\"\nimport categories_list from \"./categories-list\"\nimport search_categories_list from \"./search-categories-list\"\nimport search_name from \"./search-name\"\n\nexport const rootReducer = combineReducers({\n  add_cat_modal,\n  edit_cat_modal,\n  edit_product_modal,\n  add_product_modal,\n  edit_product,\n  edit_category,\n  categories_list,\n  search_categories_list,\n  search_name\n})\n\nexport type RootState = ReturnType<typeof rootReducer>","import { createStore } from \"redux\";\nimport { rootReducer } from \"../reducer\"\nimport { composeWithDevTools } from \"redux-devtools-extension/logOnlyInProduction\"\nimport * as actions from \"../actions/index\"\nconst composeEnhancers = composeWithDevTools();\n\ntype InferValueTypes<T> = T extends { [key: string]: infer U } ? U : never;\nexport type ActionsTypes = ReturnType<InferValueTypes<typeof actions>>;\n// export type ActionsTypes<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<InferValueTypes<typeof actions>>;\n\nexport const store = createStore(rootReducer, {}, composeEnhancers);\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { ApolloProvider } from \"react-apollo\"\nimport { ApolloProvider as ApolloHooksProvider } from '@apollo/react-hooks'\n\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport { client } from \"./store/apollo-client\"\nimport { store } from \"./store\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <ApolloHooksProvider client={client}>\n        <App/>\n      </ApolloHooksProvider>\n    </ApolloProvider>\n  </Provider>, document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}