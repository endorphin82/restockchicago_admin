(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{203:function(e,t,a){e.exports=a(393)},212:function(e,t,a){},390:function(e,t,a){},393:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),l=a.n(i),o=a(27),c=a(396),d=a(31),u=(a(212),a(399)),s=a(198),m=a(37),g=a(402),p=a(18),E=a(21),f=a(20),y=a(400),v=a(398),h=a(401),b=a(94),O=a(40),_=a.n(O),C=a(44),I=a.n(C),S=String("recyclebin"),P=String("https://endorphin82.github.io/restockchicago-img/img/no-image/no-image-available.svg"),j=function(){return{type:"CLEAR_EDIT_PRODUCT"}},A=function(e){return{type:"IS_OPEN_EDIT_PRODUCT_MODAL",payload:e}},k=function(e){return{type:"IS_OPEN_ADD_PRODUCT_MODAL",payload:e}},w=function(e){return{type:"IS_OPEN_EDIT_CATEGORY_MODAL",payload:e}},R=function(e){return{type:"IS_OPEN_ADD_CATEGORY_MODAL",payload:e}},$=function(e){return Math.round(100*parseFloat(e.replace(/[$,]/g,"")))};var D=a(26),q=a(24),T=a.n(q),x=a(22);function M(){var e=Object(D.a)(["\n    mutation AddProduct($name: String!, $price: Float!, $categories: [String], $images: [String], $icon: String) {\n  addProduct(name: $name, price: $price, categories: $categories, images: $images, icon: $icon) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    "]);return M=function(){return e},e}var N=T()(M());function L(){var e=Object(D.a)(["\n    query ProductsAll {\n  productsAll {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    "]);return L=function(){return e},e}var B=T()(L());function F(e){return x.c(B,e)}function U(){var e=Object(D.a)(["\n    query CategoriesAll {\n  categoriesAll {\n    _id\n    name\n    icons\n    images\n    parent\n  }\n}\n    "]);return U=function(){return e},e}var G=T()(U());function W(e){return x.c(G,e)}var Q={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},Y={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},V=Object(o.b)((function(e){return{isOpenAddProductModal:e.add_product_modal.isOpen}}),{setIsOpenAddProductModal:k})((function(e){var t,a=e.isOpenAddProductModal,i=e.setIsOpenAddProductModal,l=(t={update:function(e,t){var a=t.data.addProduct,n=e.readQuery({query:B}).productsAll.productsAll;e.writeQuery({query:B,data:{productsAll:null===n||void 0===n?void 0:n.concat([a])}})},refetchQueries:[{query:B}]},x.b(N,t)),o=Object(f.a)(l,2),c=o[0],d=(o[1].data,W()),u=d.loading,s=d.error,g=d.data,O=Object(n.useState)({}),C=Object(f.a)(O,2),j=C[0],A=C[1];console.log("values+++",j);var k=function(e){var t=e.target,a=t.name,n=t.value;console.log("target",e.target),A(Object(E.a)({},j,Object(p.a)({},a,n)))};if(u)return r.a.createElement("div",null,"Loading...");if(s||!g)return r.a.createElement("div",null,"Error...");var w=g.categoriesAll,R=null===w||void 0===w?void 0:w.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==S}));return console.log("isOpenAddProductModal",a),r.a.createElement(y.a,{title:"Product information",visible:Boolean(a),footer:!1,onCancel:function(){i(!1)}},r.a.createElement(v.a,Object.assign({name:"product"},Y,{onFinish:function(e){console.log("Received values of form:",j);var t=j.name,a=j.icon,n=$(j.price);console.log("onFinish"),c({variables:{name:t,price:n,categories:e.categories,images:e.images?e.images:[P],icon:a}}).then((function(e){return console.log("addProduct:",e)})).catch((function(e){return console.log("addProductERROR:",e)})),i(!1)}}),r.a.createElement(v.a.Item,{label:"Name product",rules:[{required:!0,message:"Name product is required"}]},r.a.createElement(h.a,{name:"name",onChange:k,placeholder:"name product",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Price",rules:[{required:!0,message:"Price is required"}]},r.a.createElement(h.a,{name:"price",onChange:k,type:"number",placeholder:"Price $",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Category",name:"categories",rules:[{required:!0,message:"Category is required"}]},r.a.createElement(b.a,{onChange:function(e){A(Object(E.a)({},j,{categoryId:e}))},mode:"multiple",placeholder:"Select category"},null===R||void 0===R?void 0:R.map((function(e){return r.a.createElement(b.a.Option,{key:String(null===e||void 0===e?void 0:e._id),value:String(null===e||void 0===e?void 0:e._id),onChange:k},String(null===e||void 0===e?void 0:e._id))})))),r.a.createElement(v.a.List,{name:"images"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?Q:Y,{label:0===a?"Images":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input image url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{style:{width:"90%",marginRight:8}})),e.length>=1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add image url")))})),r.a.createElement(v.a.Item,{label:"Icon",name:"icon"},r.a.createElement(h.a,{onChange:k,placeholder:"icon url",style:{width:"100%",marginRight:8}})),r.a.createElement(m.a,{type:"primary",htmlType:"submit"},"Submit")))})),K=a(62),z=a(403),J=a(397),H=a(116),X=a.n(H),Z={width:"50px",height:"100%",marginRight:"10px"},ee=function(e){var t=e.handleEditProp,a=e.handleDeleteProp,n=e.productsAllWithoutRecycleBinProp,i=[{title:"Name",dataIndex:"name",key:"name"},{title:"ID",dataIndex:"id",key:"id"},{title:"Price",dataIndex:"price",key:"price",render:function(e){return function(e){return Number(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}(e)}},{title:"Categories",dataIndex:"categories",key:"categories",render:function(e){return r.a.createElement("span",null,e.map((function(e){return r.a.createElement(z.a,{color:"blue",key:String(e)},e)})))}},{title:"Images",dataIndex:"images",key:"images",render:function(e){return e?r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement("img",{key:String("".concat(e,"+").concat(t)),alt:"img",src:String(e),style:Z})}))):r.a.createElement("span",null,"no  images")}},{title:"Actions",dataIndex:"id",key:"id",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{title:"Edit this product"},r.a.createElement(m.a,{onClick:function(){return t(e)},type:"dashed"},"Edit")),r.a.createElement(s.a,{title:"Move to recycle bin"},r.a.createElement(m.a,{style:{float:"right"},onClick:function(){return a(e)},type:"dashed",danger:!0,icon:r.a.createElement(X.a,null)})))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{dataSource:n,columns:i,rowKey:"id"}))};function te(){var e=Object(D.a)(["\n    mutation UpdateProduct($id: ID!, $name: String!, $price: Float!, $categories: [String], $images: [String], $icon: String) {\n  updateProduct(id: $id, name: $name, price: $price, categories: $categories, images: $images, icon: $icon) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    "]);return te=function(){return e},e}var ae=T()(te());function ne(e){return x.b(ae,e)}function re(){var e=Object(D.a)(["\n    query ProductsByCategoryId($id: String!) {\n  productsByCategoryId(id: $id) {\n    id\n    name\n    price\n    images\n    icon\n    categories\n  }\n}\n    "]);return re=function(){return e},e}var ie=T()(re());var le=Object(o.b)(null,{setIsOpenEditProductModal:A,editProduct:function(e){return{type:"EDIT_PRODUCT",payload:e}}})((function(e){var t=e.editProduct,a=e.setIsOpenEditProductModal,i=F(),l=i.loading,o=i.error,c=i.data,d=ne({refetchQueries:[{query:ie,variables:{catId:S}}]}),u=Object(f.a)(d,2),s=u[0];Object(K.a)(u[1]);var m=Object(n.useState)(!1),g=Object(f.a)(m,2),p=g[0],E=g[1],v=Object(n.useState)({}),h=Object(f.a)(v,2),b=h[0],O=h[1];if(console.log("productDeleted",b),l)return r.a.createElement("div",null,"Loading...");if(o||!c)return r.a.createElement("div",null,"Error...");var _=c.productsAll,C=null===_||void 0===_?void 0:_.filter((function(e){var t;return!(null===e||void 0===e||null===(t=e.categories)||void 0===t?void 0:t.includes(S))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{productsAllWithoutRecycleBinProp:C,handleEditProp:function(e){var n=null===C||void 0===C?void 0:C.find((function(t){return t.id===e}));t(n),a(!0)},handleDeleteProp:function(e){E(!0),O(C.find((function(t){return t.id===e})))}}),r.a.createElement(y.a,{title:"Delete product in recycle bin?",visible:Boolean(p),onOk:function(){return function(e){var t=e.id,a=e.name,n=e.price,r=e.categories,i=e.images,l=e.icon;r.push(S),s({variables:{id:t,name:a,price:n,categories:r,images:i,icon:l}}).then((function(e){return console.log("updateProductMESSAGE:",e)})).catch((function(e){return console.log("updateProductERROR:",e)})),E(!1)}(b)},onCancel:function(){E(!1)}},r.a.createElement("p",null,b.id)))})),oe={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},ce={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},de=Object(o.b)((function(e){return{isOpenEditProductModal:e.edit_product_modal.isOpen,edited_product:e.edit_product.product}}),{setIsOpenEditProductModal:A,clearEditProduct:j})((function(e){var t=e.clearEditProduct,a=e.edited_product,i=e.isOpenEditProductModal,l=e.setIsOpenEditProductModal,o=v.a.useForm(),c=Object(f.a)(o,1)[0],d=ne(),u=Object(f.a)(d,2),s=u[0];Object(K.a)(u[1]);var g=W(),O=g.loading,C=g.error,P=g.data,j=Object(n.useState)({}),A=Object(f.a)(j,2),k=A[0],w=A[1];Object(n.useEffect)((function(){w(a)}),[a]),Object(n.useEffect)((function(){return c.setFieldsValue({name:a.name,price:a.price,images:a.images,icon:a.icon,categories:a.categories}),function(){c.resetFields()}}),[a]);var R=function(e){var t=e.target,a=t.name,n=t.value;w(Object(E.a)({},k,Object(p.a)({},a,n)))};if(O)return r.a.createElement("div",null,"Loading...");if(C||!P)return r.a.createElement("div",null,"Error...");var D=P.categoriesAll,q=null===D||void 0===D?void 0:D.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==S}));return r.a.createElement(y.a,{title:"Product information id: ".concat(k.id),visible:Boolean(i),footer:!1,onCancel:function(){l(!1),t()}},r.a.createElement(v.a,Object.assign({form:c,name:"product"},ce,{onFinish:function(e){var t=e.name,a=e.categories,n=e.images,r=e.icon,i=String(null===k||void 0===k?void 0:k.id),o=$(String(e.price));s({variables:{id:i,name:t,price:o,categories:a,images:n,icon:r}}).then((function(e){return console.log("updateProductMESSAGE:",e)})).catch((function(e){return console.log("updateProductERROR:",e)})),l(!1)}}),r.a.createElement(v.a.Item,{label:"Name product",name:"name",value:String(null===k||void 0===k?void 0:k.name),rules:[{required:!0,message:"Name product is required"}]},r.a.createElement(h.a,{onChange:R,placeholder:"name product",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Price is required"}]},r.a.createElement(h.a,{type:"number",placeholder:"Price $",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Categories",name:"categories",onChange:R,rules:[{required:!0,message:"Category is required"}]},r.a.createElement(b.a,{mode:"multiple",placeholder:"Select category"},null===q||void 0===q?void 0:q.map((function(e){return r.a.createElement(b.a.Option,{defaultValue:a.categories,key:String(null===e||void 0===e?void 0:e._id),value:String(null===e||void 0===e?void 0:e._id)},String(null===e||void 0===e?void 0:e.name))})))),r.a.createElement(v.a.List,{name:"images"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?oe:ce,{label:0===a?"Images":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input image url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{value:k.images[a],placeholder:"image url",style:{width:"90%",marginRight:8}})),e.length>1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add image url")))})),r.a.createElement(v.a.Item,{label:"Icon",name:"icon"},r.a.createElement(h.a,{onChange:R,placeholder:"icon url",style:{width:"100%",marginRight:8}})),r.a.createElement(m.a,{type:"primary",htmlType:"submit"},"Submit")))})),ue=Object(o.b)(null,{setIsOpenAddProductModal:k,clearEditProduct:j})((function(e){var t=e.setIsOpenAddProductModal,a=e.clearEditProduct;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Products"),r.a.createElement(le,null),r.a.createElement(de,null),r.a.createElement(V,null),r.a.createElement(s.a,{title:"Add Product"},r.a.createElement(m.a,{onClick:function(){a(),t(!0)},type:"dashed",shape:"circle",style:{position:"fixed",bottom:"50px",right:"50px",color:"#08c"}},r.a.createElement(g.a,{style:{fontSize:"22px",color:"#08c"}}))))}));function se(){var e=Object(D.a)(["\n    query CategoryById($_id: String) {\n  categoryById(_id: $_id) {\n    _id\n    name\n    icons\n    images\n    parent\n  }\n}\n    "]);return se=function(){return e},e}var me=T()(se());function ge(){var e=Object(D.a)(["\n    mutation DeleteCascadeCategoryWithProductsById($_id: String!) {\n  deleteCascadeCategoryWithProductsById(_id: $_id) {\n    __typename\n  }\n}\n    "]);return ge=function(){return e},e}var pe=T()(ge());var Ee={width:"20px",height:"100%",marginRight:"10px"},fe=Object(o.b)(null,{editCategory:function(e){return{type:"EDIT_CATEGORY",payload:e}},setIsOpenEditCategoryModal:w})((function(e){var t,a=e.editCategory,i=e.setIsOpenEditCategoryModal,l=W(),o=l.loading,c=l.error,d=l.data,u=(t={refetchQueries:[{query:G}]},x.b(pe,t)),g=Object(f.a)(u,2),p=g[0];Object(K.a)(g[1]);var E=Object(n.useState)(!1),v=Object(f.a)(E,2),h=v[0],b=v[1],O=Object(n.useState)({}),_=Object(f.a)(O,2),C=_[0],I=_[1];if(o)return r.a.createElement("div",null,"Loading...");if(c||!d)return r.a.createElement("div",null,"Error...");var P=d.categoriesAll,j=null===P||void 0===P?void 0:P.filter((function(e){return e._id!==S})),A=[{title:"Name",dataIndex:"name",key:"name"},{title:"ID",dataIndex:"_id",key:"_id"},{title:"Parent",dataIndex:"parent",key:"parent",render:function(e){return e?r.a.createElement("span",null,r.a.createElement(z.a,{color:"green",key:String(e)},e)):null}},{title:"Icons",dataIndex:"icons",key:"icons",render:function(e){return 0!==e.length?r.a.createElement("div",null,e.map((function(e){return r.a.createElement("img",{key:String(e),alt:"img",src:String(e),style:Ee})}))):r.a.createElement("span",null,"no icons")}},{title:"Images",dataIndex:"images",key:"images",render:function(e){return 0!==e.length?r.a.createElement("div",null,e.map((function(e){return r.a.createElement("img",{key:String(e),alt:"img",src:String(e),style:Ee})}))):r.a.createElement("span",null,"no images")}},{title:"Actions",dataIndex:"_id",key:"_id",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{title:"Edit this category"},r.a.createElement(m.a,{onClick:function(){return function(e){var t=null===j||void 0===j?void 0:j.find((function(t){return t._id===e}));a(t),i(!0)}(e)},type:"dashed"},"Edit")),r.a.createElement(s.a,{title:"Delete Category With All Products"},r.a.createElement(m.a,{style:{float:"right"},onClick:function(){return function(e){b(!0),I(j.find((function(t){return t._id===e})))}(String(e))},type:"dashed",danger:!0,icon:r.a.createElement(X.a,null)})))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{dataSource:j,columns:A,rowKey:"id"}),r.a.createElement(y.a,{title:"Delete Category With All Products WITHOUT recovery!?",visible:Boolean(h),onOk:function(){return e=C._id,p({variables:{_id:String(e)}}).then((function(e){return console.log("deleteCascadeCategoryWithProductsById response:",e)})),void b(!1);var e},onCancel:function(){b(!1)}},r.a.createElement("p",null,C.name)))}));function ye(){var e=Object(D.a)(["\n    mutation AddCategory($_id: String!, $name: String!, $images: [String], $icons: [String], $parent: String) {\n  addCategory(_id: $_id, name: $name, images: $images, icons: $icons, parent: $parent) {\n    _id\n    name\n    images\n    icons\n    parent\n  }\n}\n    "]);return ye=function(){return e},e}var ve=T()(ye());var he={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},be={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},Oe=Object(o.b)((function(e){return{isOpenAddCategoryModal:e.add_cat_modal.isOpen}}),{setIsOpenAddCategoryModal:R})((function(e){var t,a=e.setIsOpenAddCategoryModal,i=e.isOpenAddCategoryModal,l=(t={update:function(e,t){var a=t.data.addCategory,n=e.readQuery({query:G}).categoriesAll.categoriesAll;e.writeQuery({query:G,data:{categoriesAll:null===n||void 0===n?void 0:n.concat([a])}})},refetchQueries:[{query:G}]},x.b(ve,t)),o=Object(f.a)(l,2),c=o[0],d=(o[1].data,W()),u=d.loading,s=d.error,g=d.data,O=Object(n.useState)({}),C=Object(f.a)(O,2),P=C[0],j=C[1];if(u)return r.a.createElement("div",null,"Loading...");if(s||!g)return r.a.createElement("div",null,"Error...");var A=g.categoriesAll,k=null===A||void 0===A?void 0:A.filter((function(e){return e._id!==S})),w=function(e){var t=e.target,a=t.name,n=t.value;console.log("target",e.target),j(Object(E.a)({},P,Object(p.a)({},a,n)))};return r.a.createElement(y.a,{title:"Category information",visible:Boolean(i),footer:!1,onCancel:function(){a(!1)}},r.a.createElement(v.a,Object.assign({name:"category"},be,{onFinish:function(e){var t=P._id,n=P.icons,r=P.images,i=P.parent,l=P.name;console.log("++++++++++++",e),console.log("+++V+++V++++++",P),c({variables:{_id:t,name:l,icons:n,images:r,parent:i}}).then((function(e){return console.log("addCategory:",e)})).catch((function(e){return console.log("addCategoryERROR:",e)})),a(!1)}}),r.a.createElement(v.a.Item,{label:"ID category",rules:[{required:!0,message:"ID category is required"}]},r.a.createElement(h.a,{name:"_id",onChange:w,placeholder:"name category",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Name category",rules:[{required:!0,message:"Name category is required"}]},r.a.createElement(h.a,{name:"name",onChange:w,placeholder:"name category",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Parent category",name:"parent",onChange:w},r.a.createElement(b.a,{placeholder:"Select category"},null===k||void 0===k?void 0:k.map((function(e){return r.a.createElement(b.a.Option,{key:String(e._id),value:String(e._id)},e._id)})))),r.a.createElement(v.a.List,{name:"icons"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?he:be,{label:0===a?"icons":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input icon url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{style:{width:"90%",marginRight:8}})),e.length>=1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add icon url")))})),r.a.createElement(v.a.List,{name:"images"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?he:be,{label:0===a?"Images":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input image url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{style:{width:"90%",marginRight:8}})),e.length>=1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add image url")))})),r.a.createElement(m.a,{type:"primary",htmlType:"submit"},"Submit")))}));function _e(){var e=Object(D.a)(["\n    mutation UpdateCategory($_id: String!, $name: String!, $images: [String], $icons: [String], $parent: String) {\n  updateCategory(_id: $_id, name: $name, images: $images, icons: $icons, parent: $parent) {\n    _id\n    name\n    images\n    icons\n    parent\n  }\n}\n    "]);return _e=function(){return e},e}var Ce=T()(_e());var Ie={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},Se={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}},Pe=Object(o.b)((function(e){return{isOpenEditCategoryModal:e.edit_cat_modal.isOpen,edited_category:e.edit_category.category}}),{setIsOpenEditCategoryModal:w,clearEditCategory:function(){return{type:"CLEAR_EDIT_CATEGORY"}}})((function(e){var t,a=e.edited_category,i=e.setIsOpenEditCategoryModal,l=e.isOpenEditCategoryModal,o=v.a.useForm(),c=Object(f.a)(o,1)[0],d=(t={refetchQueries:[{query:G},{query:B}]},x.b(Ce,t)),u=Object(f.a)(d,2),s=u[0];Object(K.a)(u[1]);var g=Object(n.useState)({}),O=Object(f.a)(g,2),C=O[0],P=O[1];Object(n.useEffect)((function(){P(a)}),[a]),Object(n.useEffect)((function(){return c.setFieldsValue({name:a.name,icons:a.icons,images:a.images,parent:a.parent,_id:a._id}),function(){c.resetFields()}}),[a]);var j=W(),A=j.loading,k=j.error,w=j.data;if(A)return r.a.createElement("div",null,"Loading...");if(k||!w)return r.a.createElement("div",null,"Error...");var R=w.categoriesAll,$=null===R||void 0===R?void 0:R.filter((function(e){return e._id!==S})),D=function(e){var t=e.target,a=t.name,n=t.value;P(Object(E.a)({},C,Object(p.a)({},a,n)))};return r.a.createElement(y.a,{title:"Category information id: ".concat(C._id),visible:Boolean(l),footer:!1,onCancel:function(){i(!1)}},r.a.createElement(v.a,Object.assign({form:c,name:"category"},Se,{onFinish:function(e){var t=e.name,a=e.images,n=e.icons,r=String(null===C||void 0===C?void 0:C._id);s({variables:{_id:r,name:t,images:a,icons:n}}).then((function(e){return console.log("updateProductMESSAGE:",e)})).catch((function(e){return console.log("updateProductERROR:",e)})),i(!1)}}),r.a.createElement(v.a.Item,{label:"ID category",name:"_id",value:String(null===C||void 0===C?void 0:C._id),rules:[{required:!0,message:"Name category is required"}]},r.a.createElement(h.a,{onChange:D,placeholder:"name category",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Name category",name:"name",value:String(null===C||void 0===C?void 0:C.name),rules:[{required:!0,message:"Name category is required"}]},r.a.createElement(h.a,{onChange:D,placeholder:"name category",style:{width:"100%",marginRight:8}})),r.a.createElement(v.a.Item,{label:"Parent category",name:"parent",onChange:D},r.a.createElement(b.a,{defaultValue:C._id,placeholder:"Select category"},null===$||void 0===$?void 0:$.map((function(e){return r.a.createElement(b.a.Option,{key:String(e._id),value:String(e._id)},e._id)})))),r.a.createElement(v.a.List,{name:"icons"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?Ie:Se,{label:0===a?"icons":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input icons url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{value:C.icons[a],placeholder:"icon url",style:{width:"90%",marginRight:8}})),e.length>1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add icon url")))})),r.a.createElement(v.a.List,{name:"images"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(v.a.Item,Object.assign({},0===a?Ie:Se,{label:0===a?"Images":"",required:!1,key:t.key}),r.a.createElement(v.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input image url or delete this field."}],noStyle:!0}),r.a.createElement(h.a,{value:C.images[a],placeholder:"image url",style:{width:"90%",marginRight:8}})),e.length>1?r.a.createElement(I.a,{className:"dynamic-delete-button",onClick:function(){n(t.name)}}):r.a.createElement("span",null))})),r.a.createElement(v.a.Item,null,r.a.createElement(m.a,{type:"dashed",onClick:function(){a()},style:{width:"80%"}},r.a.createElement(_.a,null)," Add image url")))})),r.a.createElement(m.a,{type:"primary",htmlType:"submit"},"Submit")))})),je=Object(o.b)(null,{setIsOpenAddCategoryModal:R})((function(e){var t=e.setIsOpenAddCategoryModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Categories"),r.a.createElement(fe,null),r.a.createElement(Pe,null),r.a.createElement(Oe,null),r.a.createElement(s.a,{title:"Add Category"},r.a.createElement(m.a,{onClick:function(){t(!0)},type:"dashed",shape:"circle",style:{position:"fixed",bottom:"50px",right:"50px",color:"#08c"}},r.a.createElement(g.a,{style:{fontSize:"22px",color:"#08c"}}))))})),Ae=u.a.TabPane;function ke(e){console.log(e)}var we=function(){var e,t=W(),a=t.loading,n=t.error,i=t.data,l=F(),o=l.loading,c=l.error,d=l.data,s=(e={variables:{id:S}},x.c(ie,e)),m=s.loading,g=s.error,p=s.data,E=function(e){return x.c(me,e)}({variables:{_id:S}}),f=E.loading,y=E.error,v=E.data;if(a||o||m||f)return r.a.createElement("div",null,"Loading...");if(n||c||g||y||!i||!d||!p||!v)return r.a.createElement("div",null,"Error.");p.productsByCategoryId,v.categoryById;return r.a.createElement(u.a,{defaultActiveKey:"1",onChange:ke},r.a.createElement(u.a.TabPane,{tab:"Products",key:"1"},r.a.createElement(ue,null)),r.a.createElement(Ae,{tab:"Categories",key:"2"},r.a.createElement(je,null)))},Re=(a(389),a(390),function(){return console.log("app.tsx"),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,r.a.createElement("code",null,"APP")),r.a.createElement("a",{className:"App-link",href:"https://glacial-mesa-30936.herokuapp.com/graphql",target:"_blank",rel:"noopener noreferrer"},"BASE_URL")),r.a.createElement(we,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=a(199),De=new(a(71).a),qe=new $e.a({cache:De,uri:"https://glacial-mesa-30936.herokuapp.com/graphql"}),Te=a(60),xe={isOpen:!1},Me={isOpen:!1},Ne={isOpen:!1},Le={isOpen:!1},Be={product:{}},Fe={category:{}},Ue=Object(Te.combineReducers)({add_cat_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_OPEN_ADD_CATEGORY_MODAL":return Object(E.a)({},e,{isOpen:t.payload});default:return e}},edit_cat_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_OPEN_EDIT_CATEGORY_MODAL":return Object(E.a)({},e,{isOpen:t.payload});default:return e}},edit_product_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_OPEN_EDIT_PRODUCT_MODAL":return Object(E.a)({},e,{isOpen:t.payload});default:return e}},add_product_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_OPEN_ADD_PRODUCT_MODAL":return Object(E.a)({},e,{isOpen:t.payload});default:return e}},edit_product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PRODUCT":return Object(E.a)({},e,{product:t.payload});case"CLEAR_EDIT_PRODUCT":return Object(E.a)({},Be);default:return e}},edit_category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_CATEGORY":return Object(E.a)({},e,{category:t.payload});case"CLEAR_EDIT_CATEGORY":return Object(E.a)({},Fe);default:return e}}}),Ge=a(196),We=Object(Ge.composeWithDevTools)(),Qe=Object(Te.createStore)(Ue,{},We);l.a.render(r.a.createElement(o.a,{store:Qe},r.a.createElement(c.a,{client:qe},r.a.createElement(d.a,{client:qe},r.a.createElement(Re,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.3b676570.chunk.js.map